{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/f.ts","webpack:///./lib/context.ts","webpack:///./index.ts","webpack:///./lib/evented-array.ts","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///./libs.ts","webpack:///./lib/dom.ts","webpack:///./lib/dom-tree.ts","webpack:///./lib/observable.ts","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./lib/util.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","evented_array_1","freezed","undefined","innerFn","val","Array","isArray","innerArray","computes","length","compute","toString","toJSON","array","items","arr","EventedArray","on","$val","off","type","callback","fn","args","push","initCompute","cValue","computeReturn","setCompute","prev","destroy","item","activeContextKeys","appContext","startContext","getContextValue","componentProps","injectContexts","configurable","endContext","pop","activateContext","context","deactivateContext","Context","props","__export","_self","this","_array","_handlers","itemadded","itemremoved","itemset","beforemulti","aftermulti","defineIndexProperty","index","set","v","raiseEvent","event","forEach","h","eventName","handler","ln","splice","arguments","unshift","shift","howMany","removed","Number","RangeError","apply","getOwnPropertyNames","writable","symbolObservablePonyfill","root","result","observable","__webpack_exports__","f_1","context_1","conditionalElement","parentElement","oldElement","newElementFn","newElement","Node","document","createTextNode","replaceChild","appendChild","insertToDom","itemElement","Function","insertBefore","childNodes","arrayMap","parentDom","renderReturn","oArr","parentRef","parentNode","parent","next","nextSibling","createDocumentFragment","e","removeChild","textContent","parentFragment","childElementCount","jsxEventProperty","Fragment","setElementAttributes","element","attributes","forceSetAttr","attribute","attributeName","test","toLowerCase","addChildElements","indexOf","setAttribute","createElement","tagName","childs","createSvgElement","createElementNS","className","class","didMount","cloneElement","cloneNode","__1","symbol_observable_1","Observer","[object Object]","handlers","isUnsubscribed","_unsubscribe","error","unsubscribe","complete","toObservable","data","subscribe","_subscribe","obs","observer","default","global","_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__","self","window","g","eval","originalModule","webpackPolyfill","children","setDefaults","obj","defaults","mapProperty","propertyKey","value$","descr","getOwnPropertyDescriptor"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import { EventedArray } from './evented-array';\r\n\r\nexport interface FJsxValue<T> {\r\n\t(val: T): void;\r\n\treadonly $val: T;\r\n\tfreezed: boolean;\r\n}\r\n\r\nexport type FjsxArrayEventType = 'itemadded' | 'itemset' | 'itemremoved';\r\n\r\nexport const value = <T>(value?: T, freezed?: boolean): FJsxValue<T> => {\r\n\tif (value && value['$val'] != undefined) throw 'Fjsx: Higher ordered signals is not supported.';\r\n\tconst innerFn: any = (val?) => {\r\n\t\tif (Array.isArray(val)) {\r\n\t\t\t// TODO arrayler için compile time x.$val = y şeklinde tanımlama olmuş olmalı o zaman yukardaki innerFn gereksiz olur\r\n\t\t\t// TODO https://github.com/WebReflection/majinbuu\r\n\t\t\tinnerFn['$val'].innerArray = val;\r\n\t\t} else innerFn['$val'] = val;\r\n\t\tconst computes = innerFn['computes'];\r\n\t\tif (computes.length)\r\n\t\t\tfor (var i = 0; i < computes.length; i++) !computes[i]['freezed'] && computes[i](computes[i].compute());\r\n\t};\r\n\tinnerFn['$val'] = value;\r\n\tinnerFn['freezed'] = freezed;\r\n\r\n\tinnerFn['computes'] = [];\r\n\tinnerFn.toString = innerFn.toJSON = () => innerFn['$val'].toString();\r\n\treturn innerFn;\r\n};\r\n\r\nexport const array = <T>(\r\n\titems: T[]\r\n): {\r\n\ton?: (type: FjsxArrayEventType, callback: (e: { item: T; index: number }) => void) => void;\r\n\tremoveEventListener?: (type: FjsxArrayEventType) => void;\r\n\t$val: T[];\r\n} & FJsxValue<T> => {\r\n\tconst arr = value(new EventedArray(items)) as any;\r\n\tarr.on = arr.$val.on;\r\n\tarr.off = arr.$val.off;\r\n\tarr.toJSON = () => arr.$val.innerArray;\r\n\r\n\treturn arr;\r\n};\r\n\r\nexport const on = (arr: any[], type: FjsxArrayEventType, callback: (e: { item: any; index: number }) => void) => {\r\n\tarr['$val'].on(type, callback);\r\n};\r\n\r\nexport const off = (arr: any[], type: FjsxArrayEventType, callback: (e: { item: any; index: number }) => void) => {\r\n\tarr['$val'].off(type, callback);\r\n};\r\n\r\nexport const compute = (fn: () => void, ...args: any[]) => {\r\n\tvar compute = value();\r\n\tcompute['compute'] = fn;\r\n\tfor (var i = 0; i < args.length; i++) args[i]['computes'].push(compute);\r\n\tfn();\r\n};\r\n\r\nexport const initCompute = (fn: () => any, ...args: any[]) => {\r\n\tconst cValue = value(fn());\r\n\tcompute(() => {\r\n\t\tcValue(fn());\r\n\t}, ...args);\r\n\treturn cValue;\r\n};\r\n\r\nexport const computeReturn = <T>(fn: () => T, ...args: any[]): T => initCompute(fn, ...args) as any;\r\n\r\nexport const setCompute = (prev: any, fn: () => void, ...args: any[]) => {\r\n\tdestroy(prev);\r\n\treturn initCompute(prev, fn, ...args);\r\n};\r\n\r\nexport const destroy = (item: any) => {\r\n\tdelete item['compute'];\r\n\tdelete item['computes'];\r\n};\r\n","const activeContextKeys = [];\nconst appContext: { [key: string]: any[] } = {};\n\nexport const startContext = (key: string, value: any) => {\n  if (!appContext[key]) appContext[key] = [];\n  appContext[key].push(value);\n  activeContextKeys.push(key);\n};\n\nexport const getContextValue = (key: string, componentProps: any) => {\n  if (componentProps && componentProps[\"$context\"][key])\n    return componentProps[\"$context\"][key];\n  if (appContext[key]) return appContext[key][appContext[key].length - 1];\n};\n\nexport const injectContexts = (componentProps: any) => {\n  if (!componentProps[\"$context\"])\n    Object.defineProperty(componentProps, \"$context\", {\n      configurable: false,\n      enumerable: false,\n      value: {}\n    });\n  let key = null;\n  for (var i = 0; i < activeContextKeys.length; i++) {\n    key = activeContextKeys[i];\n    componentProps[\"$context\"][key] =\n      appContext[key][appContext[key].length - 1];\n  }\n};\n\nexport const endContext = (key: string) => {\n  appContext[key].pop();\n  activeContextKeys.pop();\n};\n\nexport const activateContext = context => {\n  for (var key in context) startContext(key, context[key]);\n};\n\nexport const deactivateContext = context => {\n  for (var key in context) endContext(key);\n};\n\nexport const Context = (props: { key: string; value: any }) => null;\n","/// <reference path=\"./types/JSX.d.ts\" />\nexport * from './libs';\n","// https://stackoverflow.com/questions/5100376/how-to-watch-for-array-changes\nexport function EventedArray(items) {\n\tvar _self = this,\n\t\t_array = [],\n\t\t_handlers = {\n\t\t\titemadded: [],\n\t\t\titemremoved: [],\n\t\t\titemset: [],\n\t\t\tbeforemulti: [],\n\t\t\taftermulti: []\n\t\t};\n\n\tfunction defineIndexProperty(index) {\n\t\tif (!(index in _self)) {\n\t\t\tObject.defineProperty(_self, index, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn _array[index];\n\t\t\t\t},\n\t\t\t\tset: function(v) {\n\t\t\t\t\t_array[index] = v;\n\t\t\t\t\traiseEvent({\n\t\t\t\t\t\ttype: 'itemset',\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\titem: v\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction raiseEvent(event) {\n\t\t_handlers[event.type].forEach(function(h) {\n\t\t\th.call(_self, event);\n\t\t});\n\t}\n\n\t_self.on = function(eventName, handler) {\n\t\t_handlers[eventName].push(handler);\n\t};\n\n\t_self.off = function(eventName, handler) {\n\t\tvar h = _handlers[eventName];\n\t\tvar ln = h.length;\n\t\twhile (--ln >= 0) {\n\t\t\tif (h[ln] === handler) {\n\t\t\t\th.splice(ln, 1);\n\t\t\t}\n\t\t}\n\t};\n\n\t_self.push = function() {\n\t\tvar index;\n\t\targuments.length > 1 &&\n\t\t\traiseEvent({\n\t\t\t\ttype: 'beforemulti'\n\t\t\t});\n\t\tfor (var i = 0, ln = arguments.length; i < ln; i++) {\n\t\t\tindex = _array.length;\n\t\t\t_array.push(arguments[i]);\n\t\t\tdefineIndexProperty(index);\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemadded',\n\t\t\t\tindex: index,\n\t\t\t\titem: arguments[i]\n\t\t\t});\n\t\t}\n\t\targuments.length > 1 &&\n\t\t\traiseEvent({\n\t\t\t\ttype: 'aftermulti'\n\t\t\t});\n\t\treturn _array.length;\n\t};\n\n\t_self.pop = function() {\n\t\tif (_array.length > -1) {\n\t\t\tvar index = _array.length - 1,\n\t\t\t\titem = _array.pop();\n\t\t\tdelete _self[index];\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemremoved',\n\t\t\t\tindex: index,\n\t\t\t\titem: item\n\t\t\t});\n\t\t\treturn item;\n\t\t}\n\t};\n\n\t_self.unshift = function() {\n\t\tfor (var i = 0, ln = arguments.length; i < ln; i++) {\n\t\t\t_array.splice(i, 0, arguments[i]);\n\t\t\tdefineIndexProperty(_array.length - 1);\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemadded',\n\t\t\t\tindex: i,\n\t\t\t\titem: arguments[i]\n\t\t\t});\n\t\t}\n\t\tfor (; i < _array.length; i++) {\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemset',\n\t\t\t\tindex: i,\n\t\t\t\titem: _array[i]\n\t\t\t});\n\t\t}\n\t\treturn _array.length;\n\t};\n\n\t_self.shift = function() {\n\t\tif (_array.length > -1) {\n\t\t\tvar item = _array.shift();\n\t\t\tdelete _self[_array.length];\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemremoved',\n\t\t\t\tindex: 0,\n\t\t\t\titem: item\n\t\t\t});\n\t\t\treturn item;\n\t\t}\n\t};\n\n\t_self.splice = function(index, howMany /*, element1, element2, ... */) {\n\t\tvar removed = [],\n\t\t\titem,\n\t\t\tpos;\n\n\t\tindex = index == null ? 0 : index < 0 ? _array.length + index : index;\n\n\t\thowMany = howMany == null ? _array.length - index : howMany > 0 ? howMany : 0;\n\n\t\twhile (howMany--) {\n\t\t\titem = _array.splice(index, 1)[0];\n\t\t\tremoved.push(item);\n\t\t\tdelete _self[_array.length];\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemremoved',\n\t\t\t\tindex: index + removed.length - 1,\n\t\t\t\titem: item\n\t\t\t});\n\t\t}\n\n\t\tfor (var i = 2, ln = arguments.length; i < ln; i++) {\n\t\t\t_array.splice(index, 0, arguments[i]);\n\t\t\tdefineIndexProperty(_array.length - 1);\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemadded',\n\t\t\t\tindex: index,\n\t\t\t\titem: arguments[i]\n\t\t\t});\n\t\t\tindex++;\n\t\t}\n\n\t\treturn removed;\n\t};\n\n\tObject.defineProperty(_self, 'length', {\n\t\tconfigurable: false,\n\t\tenumerable: false,\n\t\tget: function() {\n\t\t\treturn _array.length;\n\t\t},\n\t\tset: function(value) {\n\t\t\tvar n = Number(value);\n\t\t\tvar length = _array.length;\n\t\t\tif (n % 1 === 0 && n >= 0) {\n\t\t\t\tif (n < length) {\n\t\t\t\t\t_self.splice(n);\n\t\t\t\t} else if (n > length) {\n\t\t\t\t\t_self.push.apply(_self, new Array(n - length));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new RangeError('Invalid array length');\n\t\t\t}\n\t\t\t_array.length = n;\n\t\t\treturn value;\n\t\t}\n\t});\n\n\tObject.defineProperty(_self, 'innerArray', {\n\t\tconfigurable: false,\n\t\tenumerable: false,\n\t\tget: function() {\n\t\t\treturn _array;\n\t\t},\n\t\tset: function(v) {\n\t\t\t// _self.push.apply(_self, v); // renderAll\n\t\t\t_array = v;\n\t\t\tfor (var i = 0; i < v.length; i++) {\n\t\t\t\tdefineIndexProperty(i);\n\t\t\t}\n\t\t}\n\t});\n\n\tObject.getOwnPropertyNames(Array.prototype).forEach(function(name) {\n\t\tif (!(name in _self)) {\n\t\t\tObject.defineProperty(_self, name, {\n\t\t\t\tconfigurable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\twritable: false,\n\t\t\t\tvalue: Array.prototype[name]\n\t\t\t});\n\t\t}\n\t});\n\n\t_self.toJSON = () => {\n\t\treturn _array;\n\t};\n\n\tif (items instanceof Array) {\n\t\t_self.push.apply(_self, items);\n\t}\n}\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","export * from './lib/f';\nexport * from './lib/dom';\nexport * from './lib/dom-tree';\nexport * from './lib/context';\nexport * from './lib/observable';\nexport * from './lib/util';\n","import { FJsxValue } from '..';\nimport { EventedArray } from './evented-array';\nimport { compute } from './f';\nimport { activateContext, deactivateContext } from '../lib/context';\n\nexport const conditionalElement = (parentElement, oldElement, newElementFn: () => any) => {\n\tparentElement['$props'] && activateContext(parentElement['$props']['$context']);\n\tlet newElement = newElementFn();\n\tparentElement['$props'] && deactivateContext(parentElement['$props']['$context']);\n\tif (newElement instanceof Node === false) newElement = document.createTextNode(newElement || '');\n\tif (oldElement) parentElement.replaceChild(newElement, oldElement);\n\telse parentElement.appendChild(newElement);\n\treturn newElement;\n};\n\nexport const insertToDom = (parentElement, index, itemElement) => {\n\tif (itemElement instanceof Function) itemElement(parentElement);\n\telse {\n\t\tif (itemElement instanceof Node === false) itemElement = document.createTextNode(itemElement);\n\t\tparentElement.insertBefore(itemElement, parentElement.childNodes[index]);\n\t}\n};\n\nexport const arrayMap = (\n\tarr: FJsxValue<any[]>,\n\tparentDom: Node,\n\trenderReturn: (item: any, idx?: number, isInsert?: boolean) => void\n) => {\n\tconst oArr = arr.$val instanceof EventedArray ? arr.$val : new EventedArray(arr.$val);\n\n\tlet parentRef: { parent: Node; next: Node } = null;\n\toArr.on('beforemulti', function() {\n\t\tif (parentDom.parentNode) {\n\t\t\tparentRef = { parent: parentDom, next: parentDom.nextSibling };\n\t\t\tparentDom = document.createDocumentFragment();\n\t\t}\n\t});\n\toArr.on('aftermulti', function() {\n\t\tif (parentRef) {\n\t\t\tparentRef.parent.insertBefore(parentDom, parentRef.next);\n\t\t\tparentDom = parentRef.parent;\n\t\t}\n\t});\n\n\toArr.on('itemadded', function(e) {\n\t\tinsertToDom(parentDom, e.index, renderReturn(e.item, e.index));\n\t});\n\n\toArr.on('itemset', function(e) {\n\t\tparentDom.replaceChild(renderReturn(e.item, e.index) as any, parentDom.childNodes.item(e.index));\n\t});\n\n\toArr.on('itemremoved', function(e) {\n\t\tparentDom.removeChild(parentDom.childNodes.item(e.index));\n\t});\n\tarr(oArr);\n\n\tconst renderAll = () => {\n\t\tif (arr.$val.length === 0) parentDom.textContent = '';\n\t\telse {\n\t\t\tconst parentFragment = document.createDocumentFragment();\n\t\t\tparentDom.textContent = '';\n\t\t\tfor (var i = (parentDom as Element).childElementCount; i < arr.$val.length; i++)\n\t\t\t\tinsertToDom(parentFragment, i, renderReturn(arr.$val[i], i));\n\t\t\tparentDom.appendChild(parentFragment);\n\t\t}\n\t};\n\tcompute(renderAll, arr);\n};\n","import { injectContexts } from './context';\r\n\r\nvar jsxEventProperty = /^on[A-Z]/;\r\nconst svgNS = 'http://www.w3.org/2000/svg';\r\nexport const Fragment = Symbol('fjsx.Fragment');\r\n\r\nexport const setElementAttributes = (element: Element, attributes, forceSetAttr?: boolean) => {\r\n\tlet attribute = null;\r\n\tfor (var attributeName in attributes) {\r\n\t\tattribute = attributes[attributeName];\r\n\t\tif (attribute != undefined) {\r\n\t\t\tif (attribute instanceof Function) {\r\n\t\t\t\tif (jsxEventProperty.test(attributeName)) {\r\n\t\t\t\t\tattributeName = attributeName.toLowerCase();\r\n\t\t\t\t\telement[attributeName] = attribute;\r\n\t\t\t\t} else attribute(element);\r\n\t\t\t} else if (attribute instanceof Object) {\r\n\t\t\t\tif (Array.isArray(attribute)) {\r\n\t\t\t\t\taddChildElements(element, attribute);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var key in attribute) {\r\n\t\t\t\t\t\tif (typeof attribute[key] === 'function') attribute[key](element);\r\n\t\t\t\t\t\telse element[attributeName][key] = attribute[key]; // style like\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (forceSetAttr || attributeName.indexOf('-') !== -1) element.setAttribute(attributeName, attribute);\r\n\t\t\t\telse element[attributeName] = attribute;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const createElement = (\r\n\ttagName: string | Function | Symbol,\r\n\tattributes: { [key: string]: any },\r\n\t...childs: any[]\r\n) => {\r\n\tlet element = null;\r\n\tif (tagName instanceof Function) {\r\n\t\tif (attributes === null) attributes = {};\r\n\t\tif (childs && childs.length) attributes['children'] = childs;\r\n\t\tinjectContexts(attributes);\r\n\t\telement = (tagName as any)(attributes);\r\n\t\tif (element) element['$props'] = attributes;\r\n\t} else {\r\n\t\tif (tagName === Fragment) {\r\n\t\t\telement = document.createDocumentFragment();\r\n\t\t} else {\r\n\t\t\telement = document.createElement(tagName as any);\r\n\t\t\tattributes && setElementAttributes(element, attributes, (tagName as string).indexOf('-') !== -1);\r\n\t\t}\r\n\t\telement['$props'] = attributes;\r\n\t\tchilds && childs.length && addChildElements(element, childs);\r\n\t}\r\n\treturn element;\r\n};\r\n\r\nexport const createSvgElement = (tagName: string, attributes: { [key: string]: any }, ...childs: any[]) => {\r\n\tlet element = document.createElementNS(svgNS, tagName);\r\n\tif (attributes) {\r\n\t\tif (attributes.className) {\r\n\t\t\t// TODO compile time\r\n\t\t\tattributes.class = attributes.className;\r\n\t\t\tdelete attributes.className;\r\n\t\t}\r\n\t\tsetElementAttributes(element, attributes, true);\r\n\t}\r\n\telement['$props'] = attributes;\r\n\tchilds && childs.length && addChildElements(element, childs);\r\n\treturn element;\r\n};\r\n\r\nexport const addChildElements = (element, childs) => {\r\n\tlet props = null;\r\n\tfor (var i = 0; i < childs.length; i++) {\r\n\t\tif (Array.isArray(childs[i])) addChildElements(element, childs[i]);\r\n\t\telse if (childs[i] instanceof Function) childs[i](element);\r\n\t\telse {\r\n\t\t\tif (childs[i]) {\r\n\t\t\t\tprops = childs[i]['$props'];\r\n\t\t\t\telement.appendChild(childs[i] instanceof Node ? childs[i] : document.createTextNode(childs[i]));\r\n\t\t\t\tprops && props.didMount && props.didMount(element, childs[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const createTextNode = (parent) => {\r\n\treturn parent.appendChild(document.createTextNode(''));\r\n};\r\n\r\nexport const cloneElement = (element: Element, attributes: any) => {\r\n\telement = element.cloneNode(true) as Element;\r\n\tattributes && setElementAttributes(element, attributes, false);\r\n\treturn element;\r\n};\r\n","import { FJsxValue, value } from \"..\";\nimport $$symbolObservable from \"symbol-observable\";\n\n// https://medium.com/@fknussel/a-simple-observable-implementation-c9c809c89c69\n\nclass Observer {\n  isUnsubscribed = false;\n  handlers: Partial<Observer> = null;\n  _unsubscribe = null;\n  constructor(handlers: Partial<Observer>) {\n    this.handlers = handlers; // next, error and complete logic\n    this.isUnsubscribed = false;\n  }\n\n  next(value) {\n    if (this.handlers.next && !this.isUnsubscribed) {\n      this.handlers.next(value);\n    }\n  }\n\n  error(error) {\n    if (!this.isUnsubscribed) {\n      if (this.handlers.error) {\n        this.handlers.error(error);\n      }\n\n      this.unsubscribe();\n    }\n  }\n\n  complete() {\n    if (!this.isUnsubscribed) {\n      if (this.handlers.complete) {\n        this.handlers.complete();\n      }\n\n      this.unsubscribe();\n    }\n  }\n\n  unsubscribe() {\n    this.isUnsubscribed = true;\n\n    if (this._unsubscribe) {\n      this._unsubscribe();\n    }\n  }\n}\n\nclass Observable {\n  _subscribe: (observer: Observer) => () => void = null;\n  constructor(subscribe) {\n    this._subscribe = subscribe;\n  }\n\n  subscribe(obs: Partial<Observer>) {\n    const observer = new Observer(obs);\n\n    observer._unsubscribe = this._subscribe(observer);\n\n    return {\n      unsubscribe() {\n        observer.unsubscribe();\n      }\n    };\n  }\n\n  [$$symbolObservable]() {\n    return this;\n  }\n}\n\nexport const toObservable = <T>(data: FJsxValue<any>): T => {\n  return new Observable(observer => {\n    var compute = value(() => {\n      observer.next(data.$val);\n    });\n    data[\"computes\"].push(compute);\n  }) as any;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { value } from \"./f\";\n\nexport const setDefaults = <T>(\n  obj: T,\n  defaults: { [key in keyof T]?: any }\n) => {\n  for (var key in defaults) {\n    if (obj[key] === undefined) obj[key] = defaults[key];\n  }\n};\n\nexport const mapProperty = (obj: Object, propertyKey: string, value$: any) => {\n  const descr = Object.getOwnPropertyDescriptor(obj, propertyKey);\n  if (descr.configurable)\n    Object.defineProperty(obj, propertyKey, {\n      configurable: false,\n      enumerable: true,\n      get: () => {\n        return value$.$val;\n      },\n      set: value$\n    });\n  else {\n    descr.set[\"computes\"].push(\n      value(() => {\n        value$(obj[propertyKey]);\n      })\n    );\n  }\n};\n"],"sourceRoot":""}