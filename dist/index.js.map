{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/f.ts","webpack:///./lib/context.ts","webpack:///./index.ts","webpack:///./lib/evented-array.ts","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///./libs.ts","webpack:///./lib/dom.ts","webpack:///./lib/dom-tree.ts","webpack:///./lib/observable.ts","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./lib/util.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","evented_array_1","freezed","undefined","innerFn","val","Array","isArray","innerArray","computes","length","compute","toString","toJSON","array","items","arr","EventedArray","on","$val","off","type","callback","fn","args","push","initCompute","cValue","setCompute","prev","destroy","item","activeContextKeys","appContext","startContext","getContextValue","componentProps","injectContexts","configurable","endContext","pop","activateContext","context","deactivateContext","Context","props","__export","_self","this","_array","_handlers","itemadded","itemremoved","itemset","beforemulti","aftermulti","defineIndexProperty","index","set","v","raiseEvent","event","forEach","h","eventName","handler","ln","splice","arguments","unshift","shift","howMany","removed","Number","RangeError","apply","getOwnPropertyNames","writable","symbolObservablePonyfill","root","result","observable","__webpack_exports__","f_1","context_1","conditionalElement","parentElement","oldElement","newElementFn","newElement","Node","document","createTextNode","replaceChild","appendChild","insertToDom","itemElement","Function","insertBefore","childNodes","arrayMap","parentDom","renderReturn","oArr","parentRef","parentNode","parent","next","nextSibling","createDocumentFragment","e","removeChild","textContent","parentFragment","childElementCount","arrayMapWithClone","renderTemplate","updateList","firstItemDom","renderItemNode","itemNode","data","path","assign","createNewItemNode","cloneNode","newItem","cloned","jsxEventProperty","Fragment","setElementAttributes","element","attributes","forceSetAttr","attribute","attributeName","test","toLowerCase","addChildElements","indexOf","setAttribute","createElement","tagName","childs","createSvgElement","createElementNS","className","class","didMount","cloneElement","__1","symbol_observable_1","Observer","[object Object]","handlers","isUnsubscribed","_unsubscribe","error","unsubscribe","complete","toObservable","subscribe","_subscribe","obs","observer","default","global","_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__","self","window","g","eval","originalModule","webpackPolyfill","children","setDefaults","obj","defaults","mapProperty","propertyKey","value$","descr","getOwnPropertyDescriptor"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import { EventedArray } from './evented-array';\r\n\r\nexport interface FJsxValue<T> {\r\n\t(val: T): void;\r\n\treadonly $val: T;\r\n\tfreezed: boolean;\r\n}\r\n\r\nexport type FjsxArrayEventType = 'itemadded' | 'itemset' | 'itemremoved';\r\n\r\nexport const value = <T>(value?: T, freezed?: boolean): FJsxValue<T> => {\r\n\tif (value && value['$val'] != undefined) throw 'Fjsx: Higher ordered signals is not supported.';\r\n\tconst innerFn: any = (val?) => {\r\n\t\tif (Array.isArray(val)) {\r\n\t\t\t// TODO arrayler için compile time x.$val = y şeklinde tanımlama olmuş olmalı o zaman yukardaki innerFn gereksiz olur\r\n\t\t\t// TODO https://github.com/WebReflection/majinbuu\r\n\t\t\tinnerFn['$val'].innerArray = val;\r\n\t\t} else innerFn['$val'] = val;\r\n\t\tconst computes = innerFn['computes'];\r\n\t\tif (computes.length)\r\n\t\t\tfor (var i = 0; i < computes.length; i++) !computes[i]['freezed'] && computes[i](computes[i].compute());\r\n\t};\r\n\tinnerFn['$val'] = value;\r\n\tinnerFn['freezed'] = freezed;\r\n\r\n\tinnerFn['computes'] = [];\r\n\tinnerFn.toString = innerFn.toJSON = () => innerFn['$val'].toString();\r\n\treturn innerFn;\r\n};\r\n\r\nexport const array = <T>(\r\n\titems: T[]\r\n): {\r\n\ton?: (type: FjsxArrayEventType, callback: (e: { item: T; index: number }) => void) => void;\r\n\tremoveEventListener?: (type: FjsxArrayEventType) => void;\r\n\t$val: T[];\r\n} & FJsxValue<T> => {\r\n\tconst arr = value(new EventedArray(items)) as any;\r\n\tarr.on = arr.$val.on;\r\n\tarr.off = arr.$val.off;\r\n\tarr.toJSON = () => arr.$val.innerArray;\r\n\r\n\treturn arr;\r\n};\r\n\r\nexport const on = (arr: any[], type: FjsxArrayEventType, callback: (e: { item: any; index: number }) => void) => {\r\n\tarr['$val'].on(type, callback);\r\n};\r\n\r\nexport const off = (arr: any[], type: FjsxArrayEventType, callback: (e: { item: any; index: number }) => void) => {\r\n\tarr['$val'].off(type, callback);\r\n};\r\n\r\nexport const compute = (fn: () => void, ...args: any[]) => {\r\n\tvar compute = value();\r\n\tcompute['compute'] = fn;\r\n\tfor (var i = 0; i < args.length; i++) args[i]['computes'].push(compute);\r\n\tfn();\r\n};\r\n\r\nexport const initCompute = (fn: () => any, ...args: any[]) => {\r\n\tconst cValue = value(fn());\r\n\tcompute(() => {\r\n\t\tcValue(fn());\r\n\t}, ...args);\r\n\treturn cValue;\r\n};\r\n\r\nexport const setCompute = (prev: any, fn: () => void, ...args: any[]) => {\r\n\tdestroy(prev);\r\n\treturn initCompute(prev, fn, ...args);\r\n};\r\n\r\nexport const destroy = (item: any) => {\r\n\tdelete item['compute'];\r\n\tdelete item['computes'];\r\n};\r\n","const activeContextKeys = [];\nconst appContext: { [key: string]: any[] } = {};\n\nexport const startContext = (key: string, value: any) => {\n  if (!appContext[key]) appContext[key] = [];\n  appContext[key].push(value);\n  activeContextKeys.push(key);\n};\n\nexport const getContextValue = (key: string, componentProps: any) => {\n  if (componentProps && componentProps[\"$context\"][key])\n    return componentProps[\"$context\"][key];\n  if (appContext[key]) return appContext[key][appContext[key].length - 1];\n};\n\nexport const injectContexts = (componentProps: any) => {\n  if (!componentProps[\"$context\"])\n    Object.defineProperty(componentProps, \"$context\", {\n      configurable: false,\n      enumerable: false,\n      value: {}\n    });\n  let key = null;\n  for (var i = 0; i < activeContextKeys.length; i++) {\n    key = activeContextKeys[i];\n    componentProps[\"$context\"][key] =\n      appContext[key][appContext[key].length - 1];\n  }\n};\n\nexport const endContext = (key: string) => {\n  appContext[key].pop();\n  activeContextKeys.pop();\n};\n\nexport const activateContext = context => {\n  for (var key in context) startContext(key, context[key]);\n};\n\nexport const deactivateContext = context => {\n  for (var key in context) endContext(key);\n};\n\nexport const Context = (props: { key: string; value: any }) => null;\n","/// <reference path=\"./types/JSX.d.ts\" />\nexport * from './libs';\n","// https://stackoverflow.com/questions/5100376/how-to-watch-for-array-changes\nexport function EventedArray(items) {\n\tvar _self = this,\n\t\t_array = [],\n\t\t_handlers = {\n\t\t\titemadded: [],\n\t\t\titemremoved: [],\n\t\t\titemset: [],\n\t\t\tbeforemulti: [],\n\t\t\taftermulti: []\n\t\t};\n\n\tfunction defineIndexProperty(index) {\n\t\tif (!(index in _self)) {\n\t\t\tObject.defineProperty(_self, index, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn _array[index];\n\t\t\t\t},\n\t\t\t\tset: function(v) {\n\t\t\t\t\t_array[index] = v;\n\t\t\t\t\traiseEvent({\n\t\t\t\t\t\ttype: 'itemset',\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\titem: v\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction raiseEvent(event) {\n\t\t_handlers[event.type].forEach(function(h) {\n\t\t\th.call(_self, event);\n\t\t});\n\t}\n\n\t_self.on = function(eventName, handler) {\n\t\t_handlers[eventName].push(handler);\n\t};\n\n\t_self.off = function(eventName, handler) {\n\t\tvar h = _handlers[eventName];\n\t\tvar ln = h.length;\n\t\twhile (--ln >= 0) {\n\t\t\tif (h[ln] === handler) {\n\t\t\t\th.splice(ln, 1);\n\t\t\t}\n\t\t}\n\t};\n\n\t_self.push = function() {\n\t\tvar index;\n\t\targuments.length > 1 &&\n\t\t\traiseEvent({\n\t\t\t\ttype: 'beforemulti'\n\t\t\t});\n\t\tfor (var i = 0, ln = arguments.length; i < ln; i++) {\n\t\t\tindex = _array.length;\n\t\t\t_array.push(arguments[i]);\n\t\t\tdefineIndexProperty(index);\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemadded',\n\t\t\t\tindex: index,\n\t\t\t\titem: arguments[i]\n\t\t\t});\n\t\t}\n\t\targuments.length > 1 &&\n\t\t\traiseEvent({\n\t\t\t\ttype: 'aftermulti'\n\t\t\t});\n\t\treturn _array.length;\n\t};\n\n\t_self.pop = function() {\n\t\tif (_array.length > -1) {\n\t\t\tvar index = _array.length - 1,\n\t\t\t\titem = _array.pop();\n\t\t\tdelete _self[index];\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemremoved',\n\t\t\t\tindex: index,\n\t\t\t\titem: item\n\t\t\t});\n\t\t\treturn item;\n\t\t}\n\t};\n\n\t_self.unshift = function() {\n\t\tfor (var i = 0, ln = arguments.length; i < ln; i++) {\n\t\t\t_array.splice(i, 0, arguments[i]);\n\t\t\tdefineIndexProperty(_array.length - 1);\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemadded',\n\t\t\t\tindex: i,\n\t\t\t\titem: arguments[i]\n\t\t\t});\n\t\t}\n\t\tfor (; i < _array.length; i++) {\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemset',\n\t\t\t\tindex: i,\n\t\t\t\titem: _array[i]\n\t\t\t});\n\t\t}\n\t\treturn _array.length;\n\t};\n\n\t_self.shift = function() {\n\t\tif (_array.length > -1) {\n\t\t\tvar item = _array.shift();\n\t\t\tdelete _self[_array.length];\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemremoved',\n\t\t\t\tindex: 0,\n\t\t\t\titem: item\n\t\t\t});\n\t\t\treturn item;\n\t\t}\n\t};\n\n\t_self.splice = function(index, howMany /*, element1, element2, ... */) {\n\t\tvar removed = [],\n\t\t\titem,\n\t\t\tpos;\n\n\t\tindex = index == null ? 0 : index < 0 ? _array.length + index : index;\n\n\t\thowMany = howMany == null ? _array.length - index : howMany > 0 ? howMany : 0;\n\n\t\twhile (howMany--) {\n\t\t\titem = _array.splice(index, 1)[0];\n\t\t\tremoved.push(item);\n\t\t\tdelete _self[_array.length];\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemremoved',\n\t\t\t\tindex: index + removed.length - 1,\n\t\t\t\titem: item\n\t\t\t});\n\t\t}\n\n\t\tfor (var i = 2, ln = arguments.length; i < ln; i++) {\n\t\t\t_array.splice(index, 0, arguments[i]);\n\t\t\tdefineIndexProperty(_array.length - 1);\n\t\t\traiseEvent({\n\t\t\t\ttype: 'itemadded',\n\t\t\t\tindex: index,\n\t\t\t\titem: arguments[i]\n\t\t\t});\n\t\t\tindex++;\n\t\t}\n\n\t\treturn removed;\n\t};\n\n\tObject.defineProperty(_self, 'length', {\n\t\tconfigurable: false,\n\t\tenumerable: false,\n\t\tget: function() {\n\t\t\treturn _array.length;\n\t\t},\n\t\tset: function(value) {\n\t\t\tvar n = Number(value);\n\t\t\tvar length = _array.length;\n\t\t\tif (n % 1 === 0 && n >= 0) {\n\t\t\t\tif (n < length) {\n\t\t\t\t\t_self.splice(n);\n\t\t\t\t} else if (n > length) {\n\t\t\t\t\t_self.push.apply(_self, new Array(n - length));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new RangeError('Invalid array length');\n\t\t\t}\n\t\t\t_array.length = n;\n\t\t\treturn value;\n\t\t}\n\t});\n\n\tObject.defineProperty(_self, 'innerArray', {\n\t\tconfigurable: false,\n\t\tenumerable: false,\n\t\tget: function() {\n\t\t\treturn _array;\n\t\t},\n\t\tset: function(v) {\n\t\t\t// _self.push.apply(_self, v); // renderAll\n\t\t\t_array = v;\n\t\t\tfor (var i = 0; i < v.length; i++) {\n\t\t\t\tdefineIndexProperty(i);\n\t\t\t}\n\t\t}\n\t});\n\n\tObject.getOwnPropertyNames(Array.prototype).forEach(function(name) {\n\t\tif (!(name in _self)) {\n\t\t\tObject.defineProperty(_self, name, {\n\t\t\t\tconfigurable: false,\n\t\t\t\tenumerable: false,\n\t\t\t\twritable: false,\n\t\t\t\tvalue: Array.prototype[name]\n\t\t\t});\n\t\t}\n\t});\n\n\t_self.toJSON = () => {\n\t\treturn _array;\n\t};\n\n\tif (items instanceof Array) {\n\t\t_self.push.apply(_self, items);\n\t}\n}\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","export * from './lib/f';\nexport * from './lib/dom';\nexport * from './lib/dom-tree';\nexport * from './lib/context';\nexport * from './lib/observable';\nexport * from './lib/util';\n","import { FJsxValue } from '..';\nimport { EventedArray } from './evented-array';\nimport { compute } from './f';\nimport { activateContext, deactivateContext } from '../lib/context';\n\nexport const conditionalElement = (parentElement, oldElement, newElementFn: () => any) => {\n\tparentElement['$props'] && activateContext(parentElement['$props']['$context']);\n\tlet newElement = newElementFn();\n\tparentElement['$props'] && deactivateContext(parentElement['$props']['$context']);\n\tif (newElement instanceof Node === false) newElement = document.createTextNode(newElement || '');\n\tif (oldElement) parentElement.replaceChild(newElement, oldElement);\n\telse parentElement.appendChild(newElement);\n\treturn newElement;\n};\n\nexport const insertToDom = (parentElement, index, itemElement) => {\n\tif (itemElement instanceof Function) itemElement(parentElement);\n\telse {\n\t\tif (itemElement instanceof Node === false) itemElement = document.createTextNode(itemElement);\n\t\tparentElement.insertBefore(itemElement, parentElement.childNodes[index]);\n\t}\n};\n\nexport const arrayMap = (\n\tarr: FJsxValue<any[]>,\n\tparentDom: Node,\n\trenderReturn: (item: any, idx?: number, isInsert?: boolean) => void\n) => {\n\tconst oArr = arr.$val instanceof EventedArray ? arr.$val : new EventedArray(arr.$val);\n\n\tlet parentRef: { parent: Node; next: Node } = null;\n\toArr.on('beforemulti', function() {\n\t\tif (parentDom.parentNode) {\n\t\t\tparentRef = { parent: parentDom, next: parentDom.nextSibling };\n\t\t\tparentDom = document.createDocumentFragment();\n\t\t}\n\t});\n\toArr.on('aftermulti', function() {\n\t\tif (parentRef) {\n\t\t\tparentRef.parent.insertBefore(parentDom, parentRef.next);\n\t\t\tparentDom = parentRef.parent;\n\t\t}\n\t});\n\n\toArr.on('itemadded', function(e) {\n\t\tinsertToDom(parentDom, e.index, renderReturn(e.item, e.index));\n\t});\n\n\toArr.on('itemset', function(e) {\n\t\tparentDom.replaceChild(renderReturn(e.item, e.index) as any, parentDom.childNodes.item(e.index));\n\t});\n\n\toArr.on('itemremoved', function(e) {\n\t\tparentDom.removeChild(parentDom.childNodes.item(e.index));\n\t});\n\tarr(oArr);\n\n\tconst renderAll = () => {\n\t\tif (arr.$val.length === 0) parentDom.textContent = '';\n\t\telse {\n\t\t\tconst parentFragment = document.createDocumentFragment();\n\t\t\tparentDom.textContent = '';\n\t\t\tfor (var i = (parentDom as Element).childElementCount; i < arr.$val.length; i++)\n\t\t\t\tinsertToDom(parentFragment, i, renderReturn(arr.$val[i], i));\n\t\t\tparentDom.appendChild(parentFragment);\n\t\t}\n\t};\n\tcompute(renderAll, arr);\n};\n\nexport const arrayMapWithClone = (\n\tarr: FJsxValue<any[]>,\n\tparentDom,\n\trenderTemplate: (i: number) => Element,\n\tupdateList\n) => {\n\tconst oArr = arr.$val instanceof EventedArray ? arr.$val : new EventedArray(arr.$val);\n\tlet firstItemDom = null;\n\n\tconst renderItemNode = (itemNode, data, i) => {\n\t\tupdateList.forEach((item) => {\n\t\t\tconst path = Object.assign([], item.path);\n\t\t\twhile (path.length) {\n\t\t\t\titemNode = itemNode.childNodes[path.shift()];\n\t\t\t}\n\t\t\titem.fn(itemNode, data, i);\n\t\t});\n\t};\n\tconst createNewItemNode = (i: number) => {\n\t\tif (firstItemDom == null) {\n\t\t\tfirstItemDom = renderTemplate(i);\n\t\t\treturn firstItemDom;\n\t\t} else {\n\t\t\treturn firstItemDom.cloneNode(true);\n\t\t}\n\t};\n\n\toArr.on('itemadded', function(e) {\n\t\tlet newItem = createNewItemNode(0);\n\t\trenderItemNode(newItem, e.item, e.index);\n\t\tinsertToDom(parentDom, e.index, newItem);\n\t});\n\n\toArr.on('itemset', function(e) {\n\t\tlet newItem = createNewItemNode(e.index);\n\t\trenderItemNode(newItem, e.item, e.index);\n\t\tparentDom.replaceChild(newItem, parentDom.childNodes.item(e.index));\n\t});\n\n\toArr.on('itemremoved', function(e) {\n\t\tparentDom.removeChild(parentDom.childNodes.item(e.index));\n\t});\n\tarr(oArr);\n\n\tconst renderAll = () => {\n\t\tif (arr.$val.length === 0) parentDom.textContent = '';\n\t\telse {\n\t\t\tfirstItemDom = renderTemplate(0);\n\n\t\t\trenderItemNode(firstItemDom, arr.$val[0], 0);\n\t\t\tinsertToDom(parentDom, 0, firstItemDom);\n\n\t\t\tfor (var i = 1; i < arr.$val.length; i++) {\n\t\t\t\tconst cloned = firstItemDom.cloneNode(true);\n\t\t\t\trenderItemNode(cloned, arr.$val[i], i);\n\t\t\t\tinsertToDom(parentDom, i, cloned);\n\t\t\t}\n\t\t}\n\t};\n\tcompute(renderAll, arr);\n};\n","import { injectContexts } from './context';\r\n\r\nvar jsxEventProperty = /^on[A-Z]/;\r\nconst svgNS = 'http://www.w3.org/2000/svg';\r\nexport const Fragment = Symbol('fjsx.Fragment');\r\n\r\nexport const setElementAttributes = (element: Element, attributes, forceSetAttr?: boolean) => {\r\n\tlet attribute = null;\r\n\tfor (var attributeName in attributes) {\r\n\t\tattribute = attributes[attributeName];\r\n\t\tif (attribute != undefined) {\r\n\t\t\tif (attribute instanceof Function) {\r\n\t\t\t\tif (jsxEventProperty.test(attributeName)) {\r\n\t\t\t\t\tattributeName = attributeName.toLowerCase();\r\n\t\t\t\t\telement[attributeName] = attribute;\r\n\t\t\t\t} else attribute(element);\r\n\t\t\t} else if (attribute instanceof Object) {\r\n\t\t\t\tif (Array.isArray(attribute)) {\r\n\t\t\t\t\taddChildElements(element, attribute);\r\n\t\t\t\t} else for (var key in attribute) if (typeof attribute[key] === 'function') attribute[key](element);\r\n\t\t\t} else {\r\n\t\t\t\tif (forceSetAttr || attributeName.indexOf('-') !== -1) element.setAttribute(attributeName, attribute);\r\n\t\t\t\telse element[attributeName] = attribute;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const createElement = (\r\n\ttagName: string | Function | Symbol,\r\n\tattributes: { [key: string]: any },\r\n\t...childs: any[]\r\n) => {\r\n\tlet element = null;\r\n\tif (tagName instanceof Function) {\r\n\t\tif (attributes === null) attributes = {};\r\n\t\tif (childs && childs.length) attributes['children'] = childs;\r\n\t\tinjectContexts(attributes);\r\n\t\telement = (tagName as any)(attributes);\r\n\t\tif (element) element['$props'] = attributes;\r\n\t} else {\r\n\t\tif (tagName === Fragment) {\r\n\t\t\telement = document.createDocumentFragment();\r\n\t\t} else {\r\n\t\t\telement = document.createElement(tagName as any);\r\n\t\t\tattributes && setElementAttributes(element, attributes, false);\r\n\t\t}\r\n\t\telement['$props'] = attributes;\r\n\t\tchilds && childs.length && addChildElements(element, childs);\r\n\t}\r\n\treturn element;\r\n};\r\n\r\nexport const createSvgElement = (tagName: string, attributes: { [key: string]: any }, ...childs: any[]) => {\r\n\tlet element = document.createElementNS(svgNS, tagName);\r\n\tif (attributes) {\r\n\t\tif (attributes.className) {\r\n\t\t\t// TODO compile time\r\n\t\t\tattributes.class = attributes.className;\r\n\t\t\tdelete attributes.className;\r\n\t\t}\r\n\t\tsetElementAttributes(element, attributes, true);\r\n\t}\r\n\telement['$props'] = attributes;\r\n\tchilds && childs.length && addChildElements(element, childs);\r\n\treturn element;\r\n};\r\n\r\nexport const addChildElements = (element, childs) => {\r\n\tlet props = null;\r\n\tfor (var i = 0; i < childs.length; i++) {\r\n\t\tif (Array.isArray(childs[i])) addChildElements(element, childs[i]);\r\n\t\telse if (childs[i] instanceof Function) childs[i](element);\r\n\t\telse {\r\n\t\t\tif (childs[i]) {\r\n\t\t\t\tprops = childs[i]['$props'];\r\n\t\t\t\telement.appendChild(childs[i] instanceof Node ? childs[i] : document.createTextNode(childs[i]));\r\n\t\t\t\tprops && props.didMount && props.didMount(element, childs[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const createTextNode = (parent) => {\r\n\treturn parent.appendChild(document.createTextNode(''));\r\n};\r\n\r\nexport const cloneElement = (element: Element, attributes: any) => {\r\n\telement = element.cloneNode(true) as Element;\r\n\tattributes && setElementAttributes(element, attributes, false);\r\n\treturn element;\r\n};\r\n","import { FJsxValue, value } from \"..\";\nimport $$symbolObservable from \"symbol-observable\";\n\n// https://medium.com/@fknussel/a-simple-observable-implementation-c9c809c89c69\n\nclass Observer {\n  isUnsubscribed = false;\n  handlers: Partial<Observer> = null;\n  _unsubscribe = null;\n  constructor(handlers: Partial<Observer>) {\n    this.handlers = handlers; // next, error and complete logic\n    this.isUnsubscribed = false;\n  }\n\n  next(value) {\n    if (this.handlers.next && !this.isUnsubscribed) {\n      this.handlers.next(value);\n    }\n  }\n\n  error(error) {\n    if (!this.isUnsubscribed) {\n      if (this.handlers.error) {\n        this.handlers.error(error);\n      }\n\n      this.unsubscribe();\n    }\n  }\n\n  complete() {\n    if (!this.isUnsubscribed) {\n      if (this.handlers.complete) {\n        this.handlers.complete();\n      }\n\n      this.unsubscribe();\n    }\n  }\n\n  unsubscribe() {\n    this.isUnsubscribed = true;\n\n    if (this._unsubscribe) {\n      this._unsubscribe();\n    }\n  }\n}\n\nclass Observable {\n  _subscribe: (observer: Observer) => () => void = null;\n  constructor(subscribe) {\n    this._subscribe = subscribe;\n  }\n\n  subscribe(obs: Partial<Observer>) {\n    const observer = new Observer(obs);\n\n    observer._unsubscribe = this._subscribe(observer);\n\n    return {\n      unsubscribe() {\n        observer.unsubscribe();\n      }\n    };\n  }\n\n  [$$symbolObservable]() {\n    return this;\n  }\n}\n\nexport const toObservable = <T>(data: FJsxValue<any>): T => {\n  return new Observable(observer => {\n    var compute = value(() => {\n      observer.next(data.$val);\n    });\n    data[\"computes\"].push(compute);\n  }) as any;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { value } from \"./f\";\n\nexport const setDefaults = <T>(\n  obj: T,\n  defaults: { [key in keyof T]?: any }\n) => {\n  for (var key in defaults) {\n    if (obj[key] === undefined) obj[key] = defaults[key];\n  }\n};\n\nexport const mapProperty = (obj: Object, propertyKey: string, value$: any) => {\n  const descr = Object.getOwnPropertyDescriptor(obj, propertyKey);\n  if (descr.configurable)\n    Object.defineProperty(obj, propertyKey, {\n      configurable: false,\n      enumerable: true,\n      get: () => {\n        return value$.$val;\n      },\n      set: value$\n    });\n  else {\n    descr.set[\"computes\"].push(\n      value(() => {\n        value$(obj[propertyKey]);\n      })\n    );\n  }\n};\n"],"sourceRoot":""}