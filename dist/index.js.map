{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/f.ts","webpack:///./lib/context.ts","webpack:///./index.ts","webpack:///./lib/evented-array.ts","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///./libs.ts","webpack:///./lib/dom.ts","webpack:///./lib/dom-tree.ts","webpack:///./lib/observable.ts","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./lib/util.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","evented_array_1","freezed","undefined","innerFn","val","Array","isArray","innerArray","computes","length","compute","toString","toJSON","array","items","arr","EventedArray","on","$val","off","type","callback","fn","args","push","initCompute","cValue","setCompute","prev","destroy","item","activeContextKeys","appContext","startContext","getContextValue","componentProps","injectContexts","configurable","endContext","pop","activateContext","context","deactivateContext","Context","props","__export","_self","this","_array","_handlers","itemadded","itemremoved","itemset","defineIndexProperty","index","set","v","raiseEvent","event","forEach","h","eventName","handler","ln","splice","arguments","unshift","shift","howMany","removed","Number","RangeError","apply","getOwnPropertyNames","writable","symbolObservablePonyfill","root","result","observable","__webpack_exports__","f_1","context_1","conditionalElement","parentElement","oldElement","newElementFn","newElement","Node","document","createTextNode","replaceChild","appendChild","insertToDom","itemElement","Function","insertBefore","childNodes","arrayMap","parentDom","renderReturn","oArr","e","removeChild","textContent","childElementCount","arrayMapWithClone","renderTemplate","updateList","firstItemDom","renderItemNode","itemNode","data","path","assign","createNewItemNode","cloneNode","newItem","cloned","jsxEventProperty","Fragment","setElementAttributes","element","attributes","forceSetAttr","attribute","attributeName","test","toLowerCase","addChildElements","indexOf","setAttribute","createElement","tagName","childs","createDocumentFragment","createSvgElement","createElementNS","className","class","didMount","parent","cloneElement","__1","symbol_observable_1","Observer","[object Object]","handlers","isUnsubscribed","_unsubscribe","next","error","unsubscribe","complete","toObservable","subscribe","_subscribe","obs","observer","default","global","_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__","self","window","g","eval","originalModule","webpackPolyfill","children","setDefaults","obj","defaults","mapProperty","propertyKey","value$","descr","getOwnPropertyDescriptor"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import { EventedArray } from './evented-array';\r\n\r\nexport interface FJsxValue<T> {\r\n\t(val: T): void;\r\n\treadonly $val: T;\r\n\tfreezed: boolean;\r\n}\r\n\r\nexport type FjsxArrayEventType = 'itemadded' | 'itemset' | 'itemremoved';\r\n\r\nexport const value = <T>(value?: T, freezed?: boolean): FJsxValue<T> => {\r\n\tif (value && value['$val'] != undefined) throw 'Fjsx: Higher ordered signals is not supported.';\r\n\tconst innerFn: any = (val?) => {\r\n\t\tif (Array.isArray(val) && !innerFn['$val'].innerArray) {\r\n\t\t\t// TODO arrayler için compile time x.$val = y şeklinde tanımlama olmuş olmalı o zaman yukardaki innerFn gereksiz olur\r\n\t\t\t// TODO https://github.com/WebReflection/majinbuu\r\n\t\t\tinnerFn['$val'].innerArray = val;\r\n\t\t} else innerFn['$val'] = val;\r\n\t\tconst computes = innerFn['computes'];\r\n\t\tif (computes.length)\r\n\t\t\tfor (var i = 0; i < computes.length; i++) !computes[i]['freezed'] && computes[i](computes[i].compute());\r\n\t};\r\n\tinnerFn['$val'] = value;\r\n\tinnerFn['freezed'] = freezed;\r\n\r\n\tinnerFn['computes'] = [];\r\n\tinnerFn.toString = innerFn.toJSON = () => innerFn['$val'].toString();\r\n\treturn innerFn;\r\n};\r\n\r\nexport const array = <T>(\r\n\titems: T[]\r\n): {\r\n\ton?: (type: FjsxArrayEventType, callback: (e: { item: T; index: number }) => void) => void;\r\n\tremoveEventListener?: (type: FjsxArrayEventType) => void;\r\n\t$val: T[];\r\n} => {\r\n\tconst arr = value(new EventedArray(items)) as any;\r\n\tarr.on = arr.$val.on;\r\n\tarr.off = arr.$val.off;\r\n\tarr.toJSON = () => arr.$val.innerArray;\r\n\r\n\treturn arr;\r\n};\r\n\r\nexport const on = (arr: any[], type: FjsxArrayEventType, callback: (e: { item: any; index: number }) => void) => {\r\n\tarr['$val'].on(type, callback);\r\n};\r\n\r\nexport const off = (arr: any[], type: FjsxArrayEventType, callback: (e: { item: any; index: number }) => void) => {\r\n\tarr['$val'].off(type, callback);\r\n};\r\n\r\nexport const compute = (fn: () => void, ...args: any[]) => {\r\n\tvar compute = value();\r\n\tcompute['compute'] = fn;\r\n\tfor (var i = 0; i < args.length; i++) args[i]['computes'].push(compute);\r\n\tfn();\r\n};\r\n\r\nexport const initCompute = (fn: () => any, ...args: any[]) => {\r\n\tconst cValue = value(fn());\r\n\tcompute(() => {\r\n\t\tcValue(fn());\r\n\t}, ...args);\r\n\treturn cValue;\r\n};\r\n\r\nexport const setCompute = (prev: any, fn: () => void, ...args: any[]) => {\r\n\tdestroy(prev);\r\n\treturn initCompute(prev, fn, ...args);\r\n};\r\n\r\nexport const destroy = (item: any) => {\r\n\tdelete item['compute'];\r\n\tdelete item['computes'];\r\n};\r\n","const activeContextKeys = [];\nconst appContext: { [key: string]: any[] } = {};\n\nexport const startContext = (key: string, value: any) => {\n  if (!appContext[key]) appContext[key] = [];\n  appContext[key].push(value);\n  activeContextKeys.push(key);\n};\n\nexport const getContextValue = (key: string, componentProps: any) => {\n  if (componentProps && componentProps[\"$context\"][key])\n    return componentProps[\"$context\"][key];\n  if (appContext[key]) return appContext[key][appContext[key].length - 1];\n};\n\nexport const injectContexts = (componentProps: any) => {\n  if (!componentProps[\"$context\"])\n    Object.defineProperty(componentProps, \"$context\", {\n      configurable: false,\n      enumerable: false,\n      value: {}\n    });\n  let key = null;\n  for (var i = 0; i < activeContextKeys.length; i++) {\n    key = activeContextKeys[i];\n    componentProps[\"$context\"][key] =\n      appContext[key][appContext[key].length - 1];\n  }\n};\n\nexport const endContext = (key: string) => {\n  appContext[key].pop();\n  activeContextKeys.pop();\n};\n\nexport const activateContext = context => {\n  for (var key in context) startContext(key, context[key]);\n};\n\nexport const deactivateContext = context => {\n  for (var key in context) endContext(key);\n};\n\nexport const Context = (props: { key: string; value: any }) => null;\n","/// <reference path=\"./types/JSX.d.ts\" />\nexport * from './libs';\n","// https://stackoverflow.com/questions/5100376/how-to-watch-for-array-changes\nexport function EventedArray(items) {\n  var _self = this,\n    _array = [],\n    _handlers = {\n      itemadded: [],\n      itemremoved: [],\n      itemset: []\n    };\n\n  function defineIndexProperty(index) {\n    if (!(index in _self)) {\n      Object.defineProperty(_self, index, {\n        configurable: true,\n        enumerable: true,\n        get: function() {\n          return _array[index];\n        },\n        set: function(v) {\n          _array[index] = v;\n          raiseEvent({\n            type: \"itemset\",\n            index: index,\n            item: v\n          });\n        }\n      });\n    }\n  }\n\n  function raiseEvent(event) {\n    _handlers[event.type].forEach(function(h) {\n      h.call(_self, event);\n    });\n  }\n\n  _self.on = function(eventName, handler) {\n    _handlers[eventName].push(handler);\n  };\n\n  _self.off = function(eventName, handler) {\n    var h = _handlers[eventName];\n    var ln = h.length;\n    while (--ln >= 0) {\n      if (h[ln] === handler) {\n        h.splice(ln, 1);\n      }\n    }\n  };\n\n  _self.push = function() {\n    var index;\n    for (var i = 0, ln = arguments.length; i < ln; i++) {\n      index = _array.length;\n      _array.push(arguments[i]);\n      defineIndexProperty(index);\n      raiseEvent({\n        type: \"itemadded\",\n        index: index,\n        item: arguments[i]\n      });\n    }\n    return _array.length;\n  };\n\n  _self.pop = function() {\n    if (_array.length > -1) {\n      var index = _array.length - 1,\n        item = _array.pop();\n      delete _self[index];\n      raiseEvent({\n        type: \"itemremoved\",\n        index: index,\n        item: item\n      });\n      return item;\n    }\n  };\n\n  _self.unshift = function() {\n    for (var i = 0, ln = arguments.length; i < ln; i++) {\n      _array.splice(i, 0, arguments[i]);\n      defineIndexProperty(_array.length - 1);\n      raiseEvent({\n        type: \"itemadded\",\n        index: i,\n        item: arguments[i]\n      });\n    }\n    for (; i < _array.length; i++) {\n      raiseEvent({\n        type: \"itemset\",\n        index: i,\n        item: _array[i]\n      });\n    }\n    return _array.length;\n  };\n\n  _self.shift = function() {\n    if (_array.length > -1) {\n      var item = _array.shift();\n      delete _self[_array.length];\n      raiseEvent({\n        type: \"itemremoved\",\n        index: 0,\n        item: item\n      });\n      return item;\n    }\n  };\n\n  _self.splice = function(index, howMany /*, element1, element2, ... */) {\n    var removed = [],\n      item,\n      pos;\n\n    index = index == null ? 0 : index < 0 ? _array.length + index : index;\n\n    howMany =\n      howMany == null ? _array.length - index : howMany > 0 ? howMany : 0;\n\n    while (howMany--) {\n      item = _array.splice(index, 1)[0];\n      removed.push(item);\n      delete _self[_array.length];\n      raiseEvent({\n        type: \"itemremoved\",\n        index: index + removed.length - 1,\n        item: item\n      });\n    }\n\n    for (var i = 2, ln = arguments.length; i < ln; i++) {\n      _array.splice(index, 0, arguments[i]);\n      defineIndexProperty(_array.length - 1);\n      raiseEvent({\n        type: \"itemadded\",\n        index: index,\n        item: arguments[i]\n      });\n      index++;\n    }\n\n    return removed;\n  };\n\n  Object.defineProperty(_self, \"length\", {\n    configurable: false,\n    enumerable: false,\n    get: function() {\n      return _array.length;\n    },\n    set: function(value) {\n      var n = Number(value);\n      var length = _array.length;\n      if (n % 1 === 0 && n >= 0) {\n        if (n < length) {\n          _self.splice(n);\n        } else if (n > length) {\n          _self.push.apply(_self, new Array(n - length));\n        }\n      } else {\n        throw new RangeError(\"Invalid array length\");\n      }\n      _array.length = n;\n      return value;\n    }\n  });\n\n  Object.defineProperty(_self, \"innerArray\", {\n    configurable: false,\n    enumerable: false,\n    get: function() {\n      return _array;\n    },\n    set: function(v) {\n      // _self.push.apply(_self, v); // renderAll\n      _array = v;\n    }\n  });\n\n  Object.getOwnPropertyNames(Array.prototype).forEach(function(name) {\n    if (!(name in _self)) {\n      Object.defineProperty(_self, name, {\n        configurable: false,\n        enumerable: false,\n        writable: false,\n        value: Array.prototype[name]\n      });\n    }\n  });\n\n  _self.toJSON = () => {\n    return _array;\n  };\n\n  if (items instanceof Array) {\n    _self.push.apply(_self, items);\n  }\n}\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","export * from './lib/f';\nexport * from './lib/dom';\nexport * from './lib/dom-tree';\nexport * from './lib/context';\nexport * from './lib/observable';\nexport * from './lib/util';\n","import { FJsxValue } from '..';\nimport { EventedArray } from './evented-array';\nimport { compute } from './f';\nimport { activateContext, deactivateContext } from '../lib/context';\n\nexport const conditionalElement = (parentElement, oldElement, newElementFn: () => any) => {\n\tparentElement['$props'] && activateContext(parentElement['$props']['$context']);\n\tlet newElement = newElementFn();\n\tparentElement['$props'] && deactivateContext(parentElement['$props']['$context']);\n\tif (newElement instanceof Node === false) newElement = document.createTextNode(newElement || '');\n\tif (oldElement) parentElement.replaceChild(newElement, oldElement);\n\telse parentElement.appendChild(newElement);\n\treturn newElement;\n};\n\nexport const insertToDom = (parentElement, index, itemElement) => {\n\tif (itemElement instanceof Function) itemElement(parentElement);\n\telse {\n\t\tif (itemElement instanceof Node === false) itemElement = document.createTextNode(itemElement);\n\t\tparentElement.insertBefore(itemElement, parentElement.childNodes[index]);\n\t}\n};\n\nexport const arrayMap = (\n\tarr: FJsxValue<any[]>,\n\tparentDom: HTMLElement,\n\trenderReturn: (item: any, idx?: number, isInsert?: boolean) => void\n) => {\n\tconst oArr = arr.$val instanceof EventedArray ? arr.$val : new EventedArray(arr.$val);\n\n\toArr.on('itemadded', function(e) {\n\t\tinsertToDom(parentDom, e.index, renderReturn(e.item, e.index));\n\t});\n\n\toArr.on('itemset', function(e) {\n\t\tparentDom.replaceChild(renderReturn(e.item, e.index) as any, parentDom.childNodes.item(e.index));\n\t});\n\n\toArr.on('itemremoved', function(e) {\n\t\tparentDom.removeChild(parentDom.childNodes.item(e.index));\n\t});\n\tarr(oArr);\n\n\tconst renderAll = () => {\n\t\tif (arr.$val.length === 0) parentDom.textContent = '';\n\t\telse {\n\t\t\tparentDom.textContent = '';\n\t\t\tfor (var i = parentDom.childElementCount; i < arr.$val.length; i++)\n\t\t\t\tinsertToDom(parentDom, i, renderReturn(arr.$val[i], i));\n\t\t}\n\t};\n\tcompute(renderAll, arr);\n};\n\nexport const arrayMapWithClone = (\n\tarr: FJsxValue<any[]>,\n\tparentDom,\n\trenderTemplate: (i: number) => Element,\n\tupdateList\n) => {\n\tconst oArr = arr.$val instanceof EventedArray ? arr.$val : new EventedArray(arr.$val);\n\tlet firstItemDom = null;\n\n\tconst renderItemNode = (itemNode, data, i) => {\n\t\tupdateList.forEach((item) => {\n\t\t\tconst path = Object.assign([], item.path);\n\t\t\twhile (path.length) {\n\t\t\t\titemNode = itemNode.childNodes[path.shift()];\n\t\t\t}\n\t\t\titem.fn(itemNode, data, i);\n\t\t});\n\t};\n\tconst createNewItemNode = (i: number) => {\n\t\tif (firstItemDom == null) {\n\t\t\tfirstItemDom = renderTemplate(i);\n\t\t\treturn firstItemDom;\n\t\t} else {\n\t\t\treturn firstItemDom.cloneNode(true);\n\t\t}\n\t};\n\n\toArr.on('itemadded', function(e) {\n\t\tlet newItem = createNewItemNode(0);\n\t\trenderItemNode(newItem, e.item, e.index);\n\t\tinsertToDom(parentDom, e.index, newItem);\n\t});\n\n\toArr.on('itemset', function(e) {\n\t\tlet newItem = createNewItemNode(e.index);\n\t\trenderItemNode(newItem, e.item, e.index);\n\t\tparentDom.replaceChild(newItem, parentDom.childNodes.item(e.index));\n\t});\n\n\toArr.on('itemremoved', function(e) {\n\t\tparentDom.removeChild(parentDom.childNodes.item(e.index));\n\t});\n\tarr(oArr);\n\n\tconst renderAll = () => {\n\t\tif (arr.$val.length === 0) parentDom.textContent = '';\n\t\telse {\n\t\t\tfirstItemDom = renderTemplate(0);\n\n\t\t\trenderItemNode(firstItemDom, arr.$val[0], 0);\n\t\t\tinsertToDom(parentDom, 0, firstItemDom);\n\n\t\t\tfor (var i = 1; i < arr.$val.length; i++) {\n\t\t\t\tconst cloned = firstItemDom.cloneNode(true);\n\t\t\t\trenderItemNode(cloned, arr.$val[i], i);\n\t\t\t\tinsertToDom(parentDom, i, cloned);\n\t\t\t}\n\t\t}\n\t};\n\tcompute(renderAll, arr);\n};\n","import { injectContexts } from './context';\r\n\r\nvar jsxEventProperty = /^on[A-Z]/;\r\nconst svgNS = 'http://www.w3.org/2000/svg';\r\nexport const Fragment = Symbol('fjsx.Fragment');\r\n\r\nexport const setElementAttributes = (element: Element, attributes, forceSetAttr?: boolean) => {\r\n\tlet attribute = null;\r\n\tfor (var attributeName in attributes) {\r\n\t\tattribute = attributes[attributeName];\r\n\t\tif (attribute != undefined) {\r\n\t\t\tif (attribute instanceof Function) {\r\n\t\t\t\tif (jsxEventProperty.test(attributeName)) {\r\n\t\t\t\t\tattributeName = attributeName.toLowerCase();\r\n\t\t\t\t\telement[attributeName] = attribute;\r\n\t\t\t\t} else attribute(element);\r\n\t\t\t} else if (attribute instanceof Object) {\r\n\t\t\t\tif (Array.isArray(attribute)) {\r\n\t\t\t\t\taddChildElements(element, attribute);\r\n\t\t\t\t} else for (var key in attribute) if (typeof attribute[key] === 'function') attribute[key](element);\r\n\t\t\t} else {\r\n\t\t\t\tif (forceSetAttr || attributeName.indexOf('-') !== -1) element.setAttribute(attributeName, attribute);\r\n\t\t\t\telse element[attributeName] = attribute;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const createElement = (\r\n\ttagName: string | Function | Symbol,\r\n\tattributes: { [key: string]: any },\r\n\t...childs: any[]\r\n) => {\r\n\tlet element = null;\r\n\tif (tagName instanceof Function) {\r\n\t\tif (attributes === null) attributes = {};\r\n\t\tif (childs && childs.length) attributes['children'] = childs;\r\n\t\tinjectContexts(attributes);\r\n\t\telement = (tagName as any)(attributes);\r\n\t\tif (element) element['$props'] = attributes;\r\n\t} else {\r\n\t\tif (tagName === Fragment) {\r\n\t\t\telement = document.createDocumentFragment();\r\n\t\t} else {\r\n\t\t\telement = document.createElement(tagName as any);\r\n\t\t\tattributes && setElementAttributes(element, attributes, false);\r\n\t\t}\r\n\t\telement['$props'] = attributes;\r\n\t\tchilds && childs.length && addChildElements(element, childs);\r\n\t}\r\n\treturn element;\r\n};\r\n\r\nexport const createSvgElement = (tagName: string, attributes: { [key: string]: any }, ...childs: any[]) => {\r\n\tlet element = document.createElementNS(svgNS, tagName);\r\n\tif (attributes) {\r\n\t\tif (attributes.className) {\r\n\t\t\t// TODO compile time\r\n\t\t\tattributes.class = attributes.className;\r\n\t\t\tdelete attributes.className;\r\n\t\t}\r\n\t\tsetElementAttributes(element, attributes, true);\r\n\t}\r\n\telement['$props'] = attributes;\r\n\tchilds && childs.length && addChildElements(element, childs);\r\n\treturn element;\r\n};\r\n\r\nexport const addChildElements = (element, childs) => {\r\n\tlet props = null;\r\n\tfor (var i = 0; i < childs.length; i++) {\r\n\t\tif (Array.isArray(childs[i])) addChildElements(element, childs[i]);\r\n\t\telse if (childs[i] instanceof Function) childs[i](element);\r\n\t\telse {\r\n\t\t\tif (childs[i]) {\r\n\t\t\t\tprops = childs[i]['$props'];\r\n\t\t\t\telement.appendChild(childs[i] instanceof Node ? childs[i] : document.createTextNode(childs[i]));\r\n\t\t\t\tprops && props.didMount && props.didMount(element, childs[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const createTextNode = (parent) => {\r\n\treturn parent.appendChild(document.createTextNode(''));\r\n};\r\n\r\nexport const cloneElement = (element: Element, attributes: any) => {\r\n\telement = element.cloneNode(true) as Element;\r\n\tattributes && setElementAttributes(element, attributes, false);\r\n\treturn element;\r\n};\r\n","import { FJsxValue, value } from \"..\";\nimport $$symbolObservable from \"symbol-observable\";\n\n// https://medium.com/@fknussel/a-simple-observable-implementation-c9c809c89c69\n\nclass Observer {\n  isUnsubscribed = false;\n  handlers: Partial<Observer> = null;\n  _unsubscribe = null;\n  constructor(handlers: Partial<Observer>) {\n    this.handlers = handlers; // next, error and complete logic\n    this.isUnsubscribed = false;\n  }\n\n  next(value) {\n    if (this.handlers.next && !this.isUnsubscribed) {\n      this.handlers.next(value);\n    }\n  }\n\n  error(error) {\n    if (!this.isUnsubscribed) {\n      if (this.handlers.error) {\n        this.handlers.error(error);\n      }\n\n      this.unsubscribe();\n    }\n  }\n\n  complete() {\n    if (!this.isUnsubscribed) {\n      if (this.handlers.complete) {\n        this.handlers.complete();\n      }\n\n      this.unsubscribe();\n    }\n  }\n\n  unsubscribe() {\n    this.isUnsubscribed = true;\n\n    if (this._unsubscribe) {\n      this._unsubscribe();\n    }\n  }\n}\n\nclass Observable {\n  _subscribe: (observer: Observer) => () => void = null;\n  constructor(subscribe) {\n    this._subscribe = subscribe;\n  }\n\n  subscribe(obs: Partial<Observer>) {\n    const observer = new Observer(obs);\n\n    observer._unsubscribe = this._subscribe(observer);\n\n    return {\n      unsubscribe() {\n        observer.unsubscribe();\n      }\n    };\n  }\n\n  [$$symbolObservable]() {\n    return this;\n  }\n}\n\nexport const toObservable = <T>(data: FJsxValue<any>): T => {\n  return new Observable(observer => {\n    var compute = value(() => {\n      observer.next(data.$val);\n    });\n    data[\"computes\"].push(compute);\n  }) as any;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { value } from \"./f\";\n\nexport const setDefaults = <T>(\n  obj: T,\n  defaults: { [key in keyof T]?: any }\n) => {\n  for (var key in defaults) {\n    if (obj[key] === undefined) obj[key] = defaults[key];\n  }\n};\n\nexport const mapProperty = (obj: Object, propertyKey: string, value$: any) => {\n  const descr = Object.getOwnPropertyDescriptor(obj, propertyKey);\n  if (descr.configurable)\n    Object.defineProperty(obj, propertyKey, {\n      configurable: false,\n      enumerable: true,\n      get: () => {\n        return value$.$val;\n      },\n      set: value$\n    });\n  else {\n    descr.set[\"computes\"].push(\n      value(() => {\n        value$(obj[propertyKey]);\n      })\n    );\n  }\n};\n"],"sourceRoot":""}