!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventedArray=function(e){var t=this,n=[],r={itemadded:[],itemremoved:[],itemset:[]};function i(e){e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t,o({type:"itemset",index:e,item:t})}})}function o(e){r[e.type].forEach(function(n){n.call(t,e)})}t.on=function(e,t){r[e].push(t)},t.off=function(e,t){for(var n=r[e],i=n.length;--i>=0;)n[i]===t&&n.splice(i,1)},t.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=n.length,n.push(arguments[t]),i(e),o({type:"itemadded",index:e,item:arguments[t]});return n.length},t.pop=function(){if(n.length>-1){var e=n.length-1,r=n.pop();return delete t[e],o({type:"itemremoved",index:e,item:r}),r}},t.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)n.splice(e,0,arguments[e]),i(n.length-1),o({type:"itemadded",index:e,item:arguments[e]});for(;e<n.length;e++)o({type:"itemset",index:e,item:n[e]});return n.length},t.shift=function(){if(n.length>-1){var e=n.shift();return delete t[n.length],o({type:"itemremoved",index:0,item:e}),e}},t.splice=function(e,r){var u,s=[];for(e=null==e?0:e<0?n.length+e:e,r=null==r?n.length-e:r>0?r:0;r--;)u=n.splice(e,1)[0],s.push(u),delete t[n.length],o({type:"itemremoved",index:e+s.length-1,item:u});for(var l=2,c=arguments.length;l<c;l++)n.splice(e,0,arguments[l]),i(n.length-1),o({type:"itemadded",index:e,item:arguments[l]}),e++;return s},Object.defineProperty(t,"length",{configurable:!1,enumerable:!1,get:function(){return n.length},set:function(e){var r=Number(e),i=n.length;if(!(r%1==0&&r>=0))throw new RangeError("Invalid array length");return r<i?t.splice(r):r>i&&t.push.apply(t,new Array(r-i)),n.length=r,e}}),Object.defineProperty(t,"innerArray",{configurable:!1,enumerable:!1,get:function(){return n},set:function(e){n=e}}),Object.getOwnPropertyNames(Array.prototype).forEach(function(e){e in t||Object.defineProperty(t,e,{configurable:!1,enumerable:!1,writable:!1,value:Array.prototype[e]})}),t.toJSON=(()=>n),e instanceof Array&&t.push.apply(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.value=((e,t)=>{const n=e=>{Array.isArray(e)?n.$val.innerArray=e:n.$val=e;const t=n.computes;if(t.length)for(var r=0;r<t.length;r++)!t[r].freezed&&t[r](t[r].compute())};return n.$val=e,n.freezed=t,n.computes=[],e instanceof Function&&(n.compute=e),n.toJSON=(()=>n.$val),n}),t.array=(e=>{const n=t.value(new r.EventedArray(e));return n.on=n.$val.on,n.off=n.$val.off,n.toJSON=(()=>n.$val.innerArray),n}),t.on=((e,t,n)=>{e.$val.on(t,n)}),t.off=((e,t,n)=>{e.$val.off(t,n)}),t.compute=((e,...n)=>{for(var r=t.value(e),i=0;i<n.length;i++)n[i].computes.push(r);e()}),t.initCompute=((e,...n)=>{var r=t.value(e()),i=function(){r(e())};i.compute=r;for(var o=0;o<n.length;o++)n[o].computes.push(i);return r}),t.setCompute=((e,n,...r)=>(t.destroy(e),t.initCompute(n,...r))),t.destroy=(e=>{delete e.compute,delete e.computes})},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(10)),r(n(9)),r(n(8)),r(n(7))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),function(e,r){var i,o=n(3);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=Object(o.a)(i);t.default=u}.call(this,n(5),n(4)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),i=n(6);class o{constructor(e){this.isUnsubscribed=!1,this.handlers=null,this._unsubscribe=null,this.handlers=e,this.isUnsubscribed=!1}next(e){this.handlers.next&&!this.isUnsubscribed&&this.handlers.next(e)}error(e){this.isUnsubscribed||(this.handlers.error&&this.handlers.error(e),this.unsubscribe())}complete(){this.isUnsubscribed||(this.handlers.complete&&this.handlers.complete(),this.unsubscribe())}unsubscribe(){this.isUnsubscribed=!0,this._unsubscribe&&this._unsubscribe()}}t.toObservable=(e=>new class{constructor(e){this._subscribe=null,this._subscribe=e}subscribe(e){const t=new o(e);return t._unsubscribe=this._subscribe(t),{unsubscribe(){t.unsubscribe()}}}[i.default](){return this}}(t=>{var n=r.value(()=>{t.next(e.$val)});e.computes.push(n)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={};t.startContext=((e,t)=>{r[e]||(r[e]=[]),r[e].push(t)}),t.getContextValue=(e=>{if(r[e])return r[e][r[e].length-1]}),t.endContext=(e=>{r[e].pop()}),t.Context=(e=>null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^on[A-Z]/;t.Fragment=Symbol("fjsx.Fragment");const i=(e,t,n)=>{let i=null;for(var o in t)if((i=t[o])instanceof Function)r.test(o)?e[o=o.toLowerCase()]=i:i(e);else if(i instanceof Object)for(var u in i)"function"==typeof i[u]&&i[u](e);else n||-1!==o.indexOf("-")?e.setAttribute(o,i):e[o]=i};t.createElement=((e,n,...r)=>{let o=null;return e instanceof Function?(null===n&&(n={}),n.children=r,(o=e(n))&&(o.$props=n)):(e===t.Fragment?o=document.createDocumentFragment():(o=document.createElement(e),n&&i(o,n,!1)),o.$props=n,r&&r.length&&t.addChildElements(o,r)),o}),t.createSvgElement=((e,n,...r)=>{let o=document.createElementNS("http://www.w3.org/2000/svg",e);return n&&i(o,n,!0),r&&r.length&&t.addChildElements(o,r),o}),t.addChildElements=((e,n)=>{let r=null;for(var i=0;i<n.length;i++)Array.isArray(n[i])?t.addChildElements(e,n[i]):n[i]instanceof Function?n[i](e):n[i]&&(r=n[i].$props,e.appendChild(n[i]instanceof Node?n[i]:document.createTextNode(n[i])),r&&r.didMount&&r.didMount(e,n[i]))}),t.createTextNode=(e=>e.appendChild(document.createTextNode("")))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1);t.conditionalElement=((e,t,n)=>(n instanceof Node==!1&&(n=document.createTextNode(n||"")),t?e.replaceChild(n,t):e.appendChild(n),n)),t.insertToDom=((e,t,n)=>{n instanceof Function?n(e):(n instanceof Node==!1&&(n=document.createTextNode(n)),e.insertBefore(n,e.childNodes[t]))}),t.arrayMap=((e,n,o)=>{const u=e.$val instanceof r.EventedArray?e.$val:new r.EventedArray(e.$val);u.on("itemadded",function(e){t.insertToDom(n,e.index,o(e.item,e.index))}),u.on("itemset",function(e){n.replaceChild(o(e.item,e.index),n.childNodes.item(e.index))}),u.on("itemremoved",function(e){n.removeChild(n.childNodes.item(e.index))}),e(u);i.compute(()=>{if(0===e.$val.length)n.textContent="";else{n.textContent="";for(var r=n.childElementCount;r<e.$val.length;r++)t.insertToDom(n,r,o(e.$val[r],r))}},e)})}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbGliL2V2ZW50ZWQtYXJyYXkudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2YudHMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL3BvbnlmaWxsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9oYXJtb255LW1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9saWIvb2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly8vLi9saWIvY29udGV4dC50cyIsIndlYnBhY2s6Ly8vLi9saWIvZG9tLXRyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2RvbS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiRXZlbnRlZEFycmF5IiwiaXRlbXMiLCJfc2VsZiIsInRoaXMiLCJfYXJyYXkiLCJfaGFuZGxlcnMiLCJpdGVtYWRkZWQiLCJpdGVtcmVtb3ZlZCIsIml0ZW1zZXQiLCJkZWZpbmVJbmRleFByb3BlcnR5IiwiaW5kZXgiLCJzZXQiLCJ2IiwicmFpc2VFdmVudCIsInR5cGUiLCJpdGVtIiwiZXZlbnQiLCJmb3JFYWNoIiwiaCIsIm9uIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsInB1c2giLCJvZmYiLCJsbiIsImxlbmd0aCIsInNwbGljZSIsImFyZ3VtZW50cyIsInBvcCIsInVuc2hpZnQiLCJzaGlmdCIsImhvd01hbnkiLCJyZW1vdmVkIiwiTnVtYmVyIiwiUmFuZ2VFcnJvciIsImFwcGx5IiwiQXJyYXkiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwid3JpdGFibGUiLCJ0b0pTT04iLCJldmVudGVkX2FycmF5XzEiLCJmcmVlemVkIiwiaW5uZXJGbiIsInZhbCIsImlzQXJyYXkiLCJpbm5lckFycmF5IiwiY29tcHV0ZXMiLCJjb21wdXRlIiwiRnVuY3Rpb24iLCJhcnJheSIsImFyciIsIiR2YWwiLCJjYWxsYmFjayIsImZuIiwiYXJncyIsImluaXRDb21wdXRlIiwiY1ZhbHVlIiwiY21wSW5uZXIiLCJzZXRDb21wdXRlIiwicHJldiIsImRlc3Ryb3kiLCJfX2V4cG9ydCIsInN5bWJvbE9ic2VydmFibGVQb255ZmlsbCIsInJvb3QiLCJyZXN1bHQiLCJTeW1ib2wiLCJvYnNlcnZhYmxlIiwib3JpZ2luYWxNb2R1bGUiLCJ3ZWJwYWNrUG9seWZpbGwiLCJjcmVhdGUiLCJjaGlsZHJlbiIsImciLCJldmFsIiwiZSIsIndpbmRvdyIsIl9wb255ZmlsbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwic2VsZiIsImdsb2JhbCIsIl9fd2VicGFja19leHBvcnRzX18iLCJfXzEiLCJzeW1ib2xfb2JzZXJ2YWJsZV8xIiwiT2JzZXJ2ZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJoYW5kbGVycyIsImlzVW5zdWJzY3JpYmVkIiwiX3Vuc3Vic2NyaWJlIiwibmV4dCIsImVycm9yIiwidW5zdWJzY3JpYmUiLCJjb21wbGV0ZSIsInRvT2JzZXJ2YWJsZSIsImRhdGEiLCJzdWJzY3JpYmUiLCJfc3Vic2NyaWJlIiwib2JzIiwib2JzZXJ2ZXIiLCJkZWZhdWx0IiwiYXBwQ29udGV4dCIsInN0YXJ0Q29udGV4dCIsImtleSIsImdldENvbnRleHRWYWx1ZSIsImVuZENvbnRleHQiLCJDb250ZXh0IiwicHJvcHMiLCJqc3hFdmVudFByb3BlcnR5IiwiRnJhZ21lbnQiLCJzZXRFbGVtZW50QXR0cmlidXRlcyIsImVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwiZm9yY2VTZXRBdHRyIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZSIsInRlc3QiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVFbGVtZW50IiwidGFnTmFtZSIsImNoaWxkcyIsImRvY3VtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImFkZENoaWxkRWxlbWVudHMiLCJjcmVhdGVTdmdFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiYXBwZW5kQ2hpbGQiLCJOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJkaWRNb3VudCIsInBhcmVudCIsImZfMSIsImNvbmRpdGlvbmFsRWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJvbGRFbGVtZW50IiwibmV3RWxlbWVudCIsInJlcGxhY2VDaGlsZCIsImluc2VydFRvRG9tIiwiaXRlbUVsZW1lbnQiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZE5vZGVzIiwiYXJyYXlNYXAiLCJwYXJlbnREb20iLCJyZW5kZXJSZXR1cm4iLCJvQXJyIiwicmVtb3ZlQ2hpbGQiLCJ0ZXh0Q29udGVudCIsImNoaWxkRWxlbWVudENvdW50Il0sIm1hcHBpbmdzIjoiNkRBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQTJDQSxPQXRDQUYsRUFBQVEsRUFBQUYs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SCxHQUFHLGNBQWUsU0FBU3NELEdBQzlCbUUsRUFBVUcsWUFBWUgsRUFBVUYsV0FBVzNILEtBQUswRCxFQUFFL0QsVUFFcER3QyxFQUFJNEYsR0FVSmIsRUFBQWxGLFFBUmtCLEtBQ2hCLEdBQXdCLElBQXBCRyxFQUFJQyxLQUFLMUIsT0FBY21ILEVBQVVJLFlBQWMsT0FDOUMsQ0FDSEosRUFBVUksWUFBYyxHQUN4QixJQUFLLElBQUl6SyxFQUFJcUssRUFBVUssa0JBQW1CMUssRUFBSTJFLEVBQUlDLEtBQUsxQixPQUFRbEQsSUFDN0RGLEVBQUFrSyxZQUFZSyxFQUFXckssRUFBR3NLLEVBQWEzRixFQUFJQyxLQUFLNUUsR0FBSUEsTUFHdkMyRSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCIvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MTAwMzc2L2hvdy10by13YXRjaC1mb3ItYXJyYXktY2hhbmdlc1xuZXhwb3J0IGZ1bmN0aW9uIEV2ZW50ZWRBcnJheShpdGVtcykge1xuICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgIF9hcnJheSA9IFtdLFxuICAgIF9oYW5kbGVycyA9IHtcbiAgICAgIGl0ZW1hZGRlZDogW10sXG4gICAgICBpdGVtcmVtb3ZlZDogW10sXG4gICAgICBpdGVtc2V0OiBbXVxuICAgIH07XG5cbiAgZnVuY3Rpb24gZGVmaW5lSW5kZXhQcm9wZXJ0eShpbmRleCkge1xuICAgIGlmICghKGluZGV4IGluIF9zZWxmKSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9zZWxmLCBpbmRleCwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9hcnJheVtpbmRleF07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odikge1xuICAgICAgICAgIF9hcnJheVtpbmRleF0gPSB2O1xuICAgICAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogXCJpdGVtc2V0XCIsXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBpdGVtOiB2XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJhaXNlRXZlbnQoZXZlbnQpIHtcbiAgICBfaGFuZGxlcnNbZXZlbnQudHlwZV0uZm9yRWFjaChmdW5jdGlvbihoKSB7XG4gICAgICBoLmNhbGwoX3NlbGYsIGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZWxmLm9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgX2hhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChoYW5kbGVyKTtcbiAgfTtcblxuICBfc2VsZi5vZmYgPSBmdW5jdGlvbihldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICB2YXIgaCA9IF9oYW5kbGVyc1tldmVudE5hbWVdO1xuICAgIHZhciBsbiA9IGgubGVuZ3RoO1xuICAgIHdoaWxlICgtLWxuID49IDApIHtcbiAgICAgIGlmIChoW2xuXSA9PT0gaGFuZGxlcikge1xuICAgICAgICBoLnNwbGljZShsbiwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9zZWxmLnB1c2ggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5kZXg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgIGluZGV4ID0gX2FycmF5Lmxlbmd0aDtcbiAgICAgIF9hcnJheS5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgICBkZWZpbmVJbmRleFByb3BlcnR5KGluZGV4KTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1hZGRlZFwiLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGl0ZW06IGFyZ3VtZW50c1tpXVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBfYXJyYXkubGVuZ3RoO1xuICB9O1xuXG4gIF9zZWxmLnBvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChfYXJyYXkubGVuZ3RoID4gLTEpIHtcbiAgICAgIHZhciBpbmRleCA9IF9hcnJheS5sZW5ndGggLSAxLFxuICAgICAgICBpdGVtID0gX2FycmF5LnBvcCgpO1xuICAgICAgZGVsZXRlIF9zZWxmW2luZGV4XTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1yZW1vdmVkXCIsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgaXRlbTogaXRlbVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gIH07XG5cbiAgX3NlbGYudW5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICBfYXJyYXkuc3BsaWNlKGksIDAsIGFyZ3VtZW50c1tpXSk7XG4gICAgICBkZWZpbmVJbmRleFByb3BlcnR5KF9hcnJheS5sZW5ndGggLSAxKTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1hZGRlZFwiLFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgaXRlbTogYXJndW1lbnRzW2ldXG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yICg7IGkgPCBfYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1zZXRcIixcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIGl0ZW06IF9hcnJheVtpXVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBfYXJyYXkubGVuZ3RoO1xuICB9O1xuXG4gIF9zZWxmLnNoaWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKF9hcnJheS5sZW5ndGggPiAtMSkge1xuICAgICAgdmFyIGl0ZW0gPSBfYXJyYXkuc2hpZnQoKTtcbiAgICAgIGRlbGV0ZSBfc2VsZltfYXJyYXkubGVuZ3RoXTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1yZW1vdmVkXCIsXG4gICAgICAgIGluZGV4OiAwLFxuICAgICAgICBpdGVtOiBpdGVtXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfTtcblxuICBfc2VsZi5zcGxpY2UgPSBmdW5jdGlvbihpbmRleCwgaG93TWFueSAvKiwgZWxlbWVudDEsIGVsZW1lbnQyLCAuLi4gKi8pIHtcbiAgICB2YXIgcmVtb3ZlZCA9IFtdLFxuICAgICAgaXRlbSxcbiAgICAgIHBvcztcblxuICAgIGluZGV4ID0gaW5kZXggPT0gbnVsbCA/IDAgOiBpbmRleCA8IDAgPyBfYXJyYXkubGVuZ3RoICsgaW5kZXggOiBpbmRleDtcblxuICAgIGhvd01hbnkgPVxuICAgICAgaG93TWFueSA9PSBudWxsID8gX2FycmF5Lmxlbmd0aCAtIGluZGV4IDogaG93TWFueSA+IDAgPyBob3dNYW55IDogMDtcblxuICAgIHdoaWxlIChob3dNYW55LS0pIHtcbiAgICAgIGl0ZW0gPSBfYXJyYXkuc3BsaWNlKGluZGV4LCAxKVswXTtcbiAgICAgIHJlbW92ZWQucHVzaChpdGVtKTtcbiAgICAgIGRlbGV0ZSBfc2VsZltfYXJyYXkubGVuZ3RoXTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1yZW1vdmVkXCIsXG4gICAgICAgIGluZGV4OiBpbmRleCArIHJlbW92ZWQubGVuZ3RoIC0gMSxcbiAgICAgICAgaXRlbTogaXRlbVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDIsIGxuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgIF9hcnJheS5zcGxpY2UoaW5kZXgsIDAsIGFyZ3VtZW50c1tpXSk7XG4gICAgICBkZWZpbmVJbmRleFByb3BlcnR5KF9hcnJheS5sZW5ndGggLSAxKTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1hZGRlZFwiLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGl0ZW06IGFyZ3VtZW50c1tpXVxuICAgICAgfSk7XG4gICAgICBpbmRleCsrO1xuICAgIH1cblxuICAgIHJldHVybiByZW1vdmVkO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfc2VsZiwgXCJsZW5ndGhcIiwge1xuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfYXJyYXkubGVuZ3RoO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG4gPSBOdW1iZXIodmFsdWUpO1xuICAgICAgdmFyIGxlbmd0aCA9IF9hcnJheS5sZW5ndGg7XG4gICAgICBpZiAobiAlIDEgPT09IDAgJiYgbiA+PSAwKSB7XG4gICAgICAgIGlmIChuIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgX3NlbGYuc3BsaWNlKG4pO1xuICAgICAgICB9IGVsc2UgaWYgKG4gPiBsZW5ndGgpIHtcbiAgICAgICAgICBfc2VsZi5wdXNoLmFwcGx5KF9zZWxmLCBuZXcgQXJyYXkobiAtIGxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgYXJyYXkgbGVuZ3RoXCIpO1xuICAgICAgfVxuICAgICAgX2FycmF5Lmxlbmd0aCA9IG47XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3NlbGYsIFwiaW5uZXJBcnJheVwiLCB7XG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9hcnJheTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odikge1xuICAgICAgLy8gX3NlbGYucHVzaC5hcHBseShfc2VsZiwgdik7IC8vIHJlbmRlckFsbFxuICAgICAgX2FycmF5ID0gdjtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKEFycmF5LnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgaWYgKCEobmFtZSBpbiBfc2VsZikpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfc2VsZiwgbmFtZSwge1xuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogQXJyYXkucHJvdG90eXBlW25hbWVdXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIF9zZWxmLnRvSlNPTiA9ICgpID0+IHtcbiAgICByZXR1cm4gX2FycmF5O1xuICB9O1xuXG4gIGlmIChpdGVtcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgX3NlbGYucHVzaC5hcHBseShfc2VsZiwgaXRlbXMpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBFdmVudGVkQXJyYXkgfSBmcm9tIFwiLi9ldmVudGVkLWFycmF5XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZKc3hWYWx1ZTxUPiB7XHJcbiAgKHZhbDogVCk6IHZvaWQ7XHJcbiAgcmVhZG9ubHkgJHZhbDogVDtcclxuICBmcmVlemVkOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBGanN4QXJyYXlFdmVudFR5cGUgPSBcIml0ZW1hZGRlZFwiIHwgXCJpdGVtc2V0XCIgfCBcIml0ZW1yZW1vdmVkXCI7XHJcblxyXG5leHBvcnQgY29uc3QgdmFsdWUgPSA8VD4odmFsdWU6IFQsIGZyZWV6ZWQ/OiBib29sZWFuKTogRkpzeFZhbHVlPFQ+ID0+IHtcclxuICBjb25zdCBpbm5lckZuOiBhbnkgPSAodmFsPykgPT4ge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xyXG4gICAgICAvLyBUT0RPIGh0dHBzOi8vZ2l0aHViLmNvbS9XZWJSZWZsZWN0aW9uL21hamluYnV1XHJcbiAgICAgIGlubmVyRm5bXCIkdmFsXCJdLmlubmVyQXJyYXkgPSB2YWw7XHJcbiAgICB9IGVsc2UgaW5uZXJGbltcIiR2YWxcIl0gPSB2YWw7XHJcbiAgICBjb25zdCBjb21wdXRlcyA9IGlubmVyRm5bXCJjb21wdXRlc1wiXTtcclxuICAgIGlmIChjb21wdXRlcy5sZW5ndGgpXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcHV0ZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgIWNvbXB1dGVzW2ldW1wiZnJlZXplZFwiXSAmJiBjb21wdXRlc1tpXShjb21wdXRlc1tpXS5jb21wdXRlKCkpO1xyXG4gIH07XHJcbiAgaW5uZXJGbltcIiR2YWxcIl0gPSB2YWx1ZTtcclxuICBpbm5lckZuW1wiZnJlZXplZFwiXSA9IGZyZWV6ZWQ7XHJcblxyXG4gIGlubmVyRm5bXCJjb21wdXRlc1wiXSA9IFtdO1xyXG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSBpbm5lckZuW1wiY29tcHV0ZVwiXSA9IHZhbHVlO1xyXG4gIGlubmVyRm4udG9KU09OID0gKCkgPT4gaW5uZXJGbltcIiR2YWxcIl07XHJcbiAgcmV0dXJuIGlubmVyRm47XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYXJyYXkgPSA8VD4oXHJcbiAgaXRlbXM6IFRbXVxyXG4pOiB7XHJcbiAgb24/OiAoXHJcbiAgICB0eXBlOiBGanN4QXJyYXlFdmVudFR5cGUsXHJcbiAgICBjYWxsYmFjazogKGU6IHsgaXRlbTogVDsgaW5kZXg6IG51bWJlciB9KSA9PiB2b2lkXHJcbiAgKSA9PiB2b2lkO1xyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXI/OiAodHlwZTogRmpzeEFycmF5RXZlbnRUeXBlKSA9PiB2b2lkO1xyXG4gICR2YWw6IFRbXTtcclxufSA9PiB7XHJcbiAgY29uc3QgYXJyID0gdmFsdWUobmV3IEV2ZW50ZWRBcnJheShpdGVtcykpIGFzIGFueTtcclxuICBhcnIub24gPSBhcnIuJHZhbC5vbjtcclxuICBhcnIub2ZmID0gYXJyLiR2YWwub2ZmO1xyXG4gIGFyci50b0pTT04gPSAoKSA9PiBhcnIuJHZhbC5pbm5lckFycmF5O1xyXG5cclxuICByZXR1cm4gYXJyO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9uID0gKFxyXG4gIGFycjogYW55W10sXHJcbiAgdHlwZTogRmpzeEFycmF5RXZlbnRUeXBlLFxyXG4gIGNhbGxiYWNrOiAoZTogeyBpdGVtOiBhbnk7IGluZGV4OiBudW1iZXIgfSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBhcnJbXCIkdmFsXCJdLm9uKHR5cGUsIGNhbGxiYWNrKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvZmYgPSAoXHJcbiAgYXJyOiBhbnlbXSxcclxuICB0eXBlOiBGanN4QXJyYXlFdmVudFR5cGUsXHJcbiAgY2FsbGJhY2s6IChlOiB7IGl0ZW06IGFueTsgaW5kZXg6IG51bWJlciB9KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGFycltcIiR2YWxcIl0ub2ZmKHR5cGUsIGNhbGxiYWNrKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb21wdXRlID0gKGZuOiAoKSA9PiB2b2lkLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gIHZhciBjb21wdXRlID0gdmFsdWUoZm4pO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykgYXJnc1tpXVtcImNvbXB1dGVzXCJdLnB1c2goY29tcHV0ZSk7XHJcbiAgZm4oKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0Q29tcHV0ZSA9IChmbjogKCkgPT4gYW55LCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gIHZhciBjVmFsdWUgPSB2YWx1ZShmbigpKTtcclxuICB2YXIgY21wSW5uZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIGNWYWx1ZShmbigpKTtcclxuICB9O1xyXG4gIGNtcElubmVyW1wiY29tcHV0ZVwiXSA9IGNWYWx1ZTtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIGFyZ3NbaV1bXCJjb21wdXRlc1wiXS5wdXNoKGNtcElubmVyKTtcclxuXHJcbiAgcmV0dXJuIGNWYWx1ZTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZXRDb21wdXRlID0gKHByZXY6IGFueSwgZm46ICgpID0+IHZvaWQsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgZGVzdHJveShwcmV2KTtcclxuICByZXR1cm4gaW5pdENvbXB1dGUoZm4sIC4uLmFyZ3MpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlc3Ryb3kgPSAoaXRlbTogYW55KSA9PiB7XHJcbiAgZGVsZXRlIGl0ZW1bXCJjb21wdXRlXCJdO1xyXG4gIGRlbGV0ZSBpdGVtW1wiY29tcHV0ZXNcIl07XHJcbn07XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJKU1guZC50c1wiIC8+XG5cbmV4cG9ydCAqIGZyb20gXCIuL2xpYi9mXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9saWIvZG9tXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9saWIvZG9tLXRyZWVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xpYi9jb250ZXh0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9saWIvb2JzZXJ2YWJsZVwiO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRTeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3JpZ2luYWxNb2R1bGUpIHtcclxuXHRpZiAoIW9yaWdpbmFsTW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0dmFyIG1vZHVsZSA9IE9iamVjdC5jcmVhdGUob3JpZ2luYWxNb2R1bGUpO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImV4cG9ydHNcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlXHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG4iLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cbmltcG9ydCBwb255ZmlsbCBmcm9tICcuL3BvbnlmaWxsLmpzJztcblxudmFyIHJvb3Q7XG5cbmlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBtb2R1bGU7XG59IGVsc2Uge1xuICByb290ID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbn1cblxudmFyIHJlc3VsdCA9IHBvbnlmaWxsKHJvb3QpO1xuZXhwb3J0IGRlZmF1bHQgcmVzdWx0O1xuIiwiaW1wb3J0IHsgRkpzeFZhbHVlLCB2YWx1ZSB9IGZyb20gXCIuLlwiO1xuaW1wb3J0ICQkc3ltYm9sT2JzZXJ2YWJsZSBmcm9tIFwic3ltYm9sLW9ic2VydmFibGVcIjtcblxuLy8gaHR0cHM6Ly9tZWRpdW0uY29tL0Bma251c3NlbC9hLXNpbXBsZS1vYnNlcnZhYmxlLWltcGxlbWVudGF0aW9uLWM5YzgwOWM4OWM2OVxuXG5jbGFzcyBPYnNlcnZlciB7XG4gIGlzVW5zdWJzY3JpYmVkID0gZmFsc2U7XG4gIGhhbmRsZXJzOiBQYXJ0aWFsPE9ic2VydmVyPiA9IG51bGw7XG4gIF91bnN1YnNjcmliZSA9IG51bGw7XG4gIGNvbnN0cnVjdG9yKGhhbmRsZXJzOiBQYXJ0aWFsPE9ic2VydmVyPikge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBoYW5kbGVyczsgLy8gbmV4dCwgZXJyb3IgYW5kIGNvbXBsZXRlIGxvZ2ljXG4gICAgdGhpcy5pc1Vuc3Vic2NyaWJlZCA9IGZhbHNlO1xuICB9XG5cbiAgbmV4dCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzLm5leHQgJiYgIXRoaXMuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMubmV4dCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgZXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoIXRoaXMuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgIGlmICh0aGlzLmhhbmRsZXJzLmVycm9yKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgaWYgKCF0aGlzLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICBpZiAodGhpcy5oYW5kbGVycy5jb21wbGV0ZSkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICB0aGlzLmlzVW5zdWJzY3JpYmVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLl91bnN1YnNjcmliZSkge1xuICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgT2JzZXJ2YWJsZSB7XG4gIF9zdWJzY3JpYmU6IChvYnNlcnZlcjogT2JzZXJ2ZXIpID0+ICgpID0+IHZvaWQgPSBudWxsO1xuICBjb25zdHJ1Y3RvcihzdWJzY3JpYmUpIHtcbiAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gIH1cblxuICBzdWJzY3JpYmUob2JzOiBQYXJ0aWFsPE9ic2VydmVyPikge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyKG9icyk7XG5cbiAgICBvYnNlcnZlci5fdW5zdWJzY3JpYmUgPSB0aGlzLl9zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBbJCRzeW1ib2xPYnNlcnZhYmxlXSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdG9PYnNlcnZhYmxlID0gPFQ+KGRhdGE6IEZKc3hWYWx1ZTxhbnk+KTogVCA9PiB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgdmFyIGNvbXB1dGUgPSB2YWx1ZSgoKSA9PiB7XG4gICAgICBvYnNlcnZlci5uZXh0KGRhdGEuJHZhbCk7XG4gICAgfSk7XG4gICAgZGF0YVtcImNvbXB1dGVzXCJdLnB1c2goY29tcHV0ZSk7XG4gIH0pIGFzIGFueTtcbn07XG4iLCJjb25zdCBhcHBDb250ZXh0OiB7IFtrZXk6IHN0cmluZ106IGFueVtdIH0gPSB7fTtcblxuZXhwb3J0IGNvbnN0IHN0YXJ0Q29udGV4dCA9IChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICBpZiAoIWFwcENvbnRleHRba2V5XSkgYXBwQ29udGV4dFtrZXldID0gW107XG4gIGFwcENvbnRleHRba2V5XS5wdXNoKHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZXh0VmFsdWUgPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgaWYgKGFwcENvbnRleHRba2V5XSkgcmV0dXJuIGFwcENvbnRleHRba2V5XVthcHBDb250ZXh0W2tleV0ubGVuZ3RoIC0gMV07XG59O1xuXG5leHBvcnQgY29uc3QgZW5kQ29udGV4dCA9IChrZXk6IHN0cmluZykgPT4ge1xuICBhcHBDb250ZXh0W2tleV0ucG9wKCk7XG59O1xuXG5leHBvcnQgY29uc3QgQ29udGV4dCA9IChwcm9wczogeyBrZXk6IHN0cmluZzsgdmFsdWU6IGFueSB9KSA9PiBudWxsO1xuIiwidmFyIGpzeEV2ZW50UHJvcGVydHkgPSAvXm9uW0EtWl0vO1xyXG5jb25zdCBzdmdOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcclxuZXhwb3J0IGNvbnN0IEZyYWdtZW50ID0gU3ltYm9sKFwiZmpzeC5GcmFnbWVudFwiKTtcclxuXHJcbmNvbnN0IHNldEVsZW1lbnRBdHRyaWJ1dGVzID0gKFxyXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXHJcbiAgYXR0cmlidXRlcyxcclxuICBmb3JjZVNldEF0dHI6IGJvb2xlYW5cclxuKSA9PiB7XHJcbiAgbGV0IGF0dHJpYnV0ZSA9IG51bGw7XHJcbiAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xyXG4gICAgaWYgKGF0dHJpYnV0ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgIGlmIChqc3hFdmVudFByb3BlcnR5LnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcclxuICAgICAgICBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGVsZW1lbnRbYXR0cmlidXRlTmFtZV0gPSBhdHRyaWJ1dGU7XHJcbiAgICAgIH0gZWxzZSBhdHRyaWJ1dGUoZWxlbWVudCk7XHJcbiAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG4gICAgICAvL3N0eWxlXHJcbiAgICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGUpXHJcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVba2V5XSA9PT0gXCJmdW5jdGlvblwiKSBhdHRyaWJ1dGVba2V5XShlbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChmb3JjZVNldEF0dHIgfHwgYXR0cmlidXRlTmFtZS5pbmRleE9mKFwiLVwiKSAhPT0gLTEpXHJcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlKTtcclxuICAgICAgZWxzZSBlbGVtZW50W2F0dHJpYnV0ZU5hbWVdID0gYXR0cmlidXRlO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVFbGVtZW50ID0gKFxyXG4gIHRhZ05hbWU6IHN0cmluZyB8IEZ1bmN0aW9uIHwgU3ltYm9sLFxyXG4gIGF0dHJpYnV0ZXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0sXHJcbiAgLi4uY2hpbGRzOiBhbnlbXVxyXG4pID0+IHtcclxuICBsZXQgZWxlbWVudCA9IG51bGw7XHJcbiAgaWYgKHRhZ05hbWUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgaWYgKGF0dHJpYnV0ZXMgPT09IG51bGwpIGF0dHJpYnV0ZXMgPSB7fTtcclxuICAgIGF0dHJpYnV0ZXNbXCJjaGlsZHJlblwiXSA9IGNoaWxkcztcclxuICAgIGVsZW1lbnQgPSAodGFnTmFtZSBhcyBhbnkpKGF0dHJpYnV0ZXMpO1xyXG4gICAgaWYgKGVsZW1lbnQpIGVsZW1lbnRbXCIkcHJvcHNcIl0gPSBhdHRyaWJ1dGVzO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAodGFnTmFtZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUgYXMgYW55KTtcclxuICAgICAgYXR0cmlidXRlcyAmJiBzZXRFbGVtZW50QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBlbGVtZW50W1wiJHByb3BzXCJdID0gYXR0cmlidXRlcztcclxuICAgIGNoaWxkcyAmJiBjaGlsZHMubGVuZ3RoICYmIGFkZENoaWxkRWxlbWVudHMoZWxlbWVudCwgY2hpbGRzKTtcclxuICB9XHJcbiAgcmV0dXJuIGVsZW1lbnQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlU3ZnRWxlbWVudCA9IChcclxuICB0YWdOYW1lOiBzdHJpbmcsXHJcbiAgYXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSxcclxuICAuLi5jaGlsZHM6IGFueVtdXHJcbikgPT4ge1xyXG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCB0YWdOYW1lKTtcclxuICBhdHRyaWJ1dGVzICYmIHNldEVsZW1lbnRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMsIHRydWUpO1xyXG4gIGNoaWxkcyAmJiBjaGlsZHMubGVuZ3RoICYmIGFkZENoaWxkRWxlbWVudHMoZWxlbWVudCwgY2hpbGRzKTtcclxuICByZXR1cm4gZWxlbWVudDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDaGlsZEVsZW1lbnRzID0gKGVsZW1lbnQsIGNoaWxkcykgPT4ge1xyXG4gIGxldCBwcm9wcyA9IG51bGw7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkc1tpXSkpIGFkZENoaWxkRWxlbWVudHMoZWxlbWVudCwgY2hpbGRzW2ldKTtcclxuICAgIGVsc2UgaWYgKGNoaWxkc1tpXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSBjaGlsZHNbaV0oZWxlbWVudCk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgaWYgKGNoaWxkc1tpXSkge1xyXG4gICAgICAgIHByb3BzID0gY2hpbGRzW2ldW1wiJHByb3BzXCJdO1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICBjaGlsZHNbaV0gaW5zdGFuY2VvZiBOb2RlXHJcbiAgICAgICAgICAgID8gY2hpbGRzW2ldXHJcbiAgICAgICAgICAgIDogZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hpbGRzW2ldKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcHJvcHMgJiYgcHJvcHMuZGlkTW91bnQgJiYgcHJvcHMuZGlkTW91bnQoZWxlbWVudCwgY2hpbGRzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVUZXh0Tm9kZSA9IHBhcmVudCA9PiB7XHJcbiAgcmV0dXJuIHBhcmVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSk7XHJcbn07XHJcbiIsImltcG9ydCB7IEZKc3hWYWx1ZSB9IGZyb20gXCIuLlwiO1xuaW1wb3J0IHsgRXZlbnRlZEFycmF5IH0gZnJvbSBcIi4vZXZlbnRlZC1hcnJheVwiO1xuaW1wb3J0IHsgY29tcHV0ZSB9IGZyb20gXCIuL2ZcIjtcblxuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbmFsRWxlbWVudCA9IChwYXJlbnRFbGVtZW50LCBvbGRFbGVtZW50LCBuZXdFbGVtZW50KSA9PiB7XG4gIGlmIChuZXdFbGVtZW50IGluc3RhbmNlb2YgTm9kZSA9PT0gZmFsc2UpXG4gICAgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0VsZW1lbnQgfHwgXCJcIik7XG4gIGlmIChvbGRFbGVtZW50KSBwYXJlbnRFbGVtZW50LnJlcGxhY2VDaGlsZChuZXdFbGVtZW50LCBvbGRFbGVtZW50KTtcbiAgZWxzZSBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKG5ld0VsZW1lbnQpO1xuICByZXR1cm4gbmV3RWxlbWVudDtcbn07XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRUb0RvbSA9IChwYXJlbnRFbGVtZW50LCBpbmRleCwgaXRlbUVsZW1lbnQpID0+IHtcbiAgaWYgKGl0ZW1FbGVtZW50IGluc3RhbmNlb2YgRnVuY3Rpb24pIGl0ZW1FbGVtZW50KHBhcmVudEVsZW1lbnQpO1xuICBlbHNlIHtcbiAgICBpZiAoaXRlbUVsZW1lbnQgaW5zdGFuY2VvZiBOb2RlID09PSBmYWxzZSlcbiAgICAgIGl0ZW1FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaXRlbUVsZW1lbnQpO1xuICAgIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGl0ZW1FbGVtZW50LCBwYXJlbnRFbGVtZW50LmNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGFycmF5TWFwID0gKFxuICBhcnI6IEZKc3hWYWx1ZTxhbnlbXT4sXG4gIHBhcmVudERvbTogSFRNTEVsZW1lbnQsXG4gIHJlbmRlclJldHVybjogKGl0ZW06IGFueSwgaWR4PzogbnVtYmVyLCBpc0luc2VydD86IGJvb2xlYW4pID0+IHZvaWRcbikgPT4ge1xuICBjb25zdCBvQXJyID1cbiAgICBhcnIuJHZhbCBpbnN0YW5jZW9mIEV2ZW50ZWRBcnJheSA/IGFyci4kdmFsIDogbmV3IEV2ZW50ZWRBcnJheShhcnIuJHZhbCk7XG5cbiAgb0Fyci5vbihcIml0ZW1hZGRlZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgaW5zZXJ0VG9Eb20ocGFyZW50RG9tLCBlLmluZGV4LCByZW5kZXJSZXR1cm4oZS5pdGVtLCBlLmluZGV4KSk7XG4gIH0pO1xuXG4gIG9BcnIub24oXCJpdGVtc2V0XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBwYXJlbnREb20ucmVwbGFjZUNoaWxkKFxuICAgICAgcmVuZGVyUmV0dXJuKGUuaXRlbSwgZS5pbmRleCkgYXMgYW55LFxuICAgICAgcGFyZW50RG9tLmNoaWxkTm9kZXMuaXRlbShlLmluZGV4KVxuICAgICk7XG4gIH0pO1xuXG4gIG9BcnIub24oXCJpdGVtcmVtb3ZlZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKHBhcmVudERvbS5jaGlsZE5vZGVzLml0ZW0oZS5pbmRleCkpO1xuICB9KTtcbiAgYXJyKG9BcnIpO1xuXG4gIGNvbnN0IHJlbmRlckFsbCA9ICgpID0+IHtcbiAgICBpZiAoYXJyLiR2YWwubGVuZ3RoID09PSAwKSBwYXJlbnREb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVsc2Uge1xuICAgICAgcGFyZW50RG9tLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIGZvciAodmFyIGkgPSBwYXJlbnREb20uY2hpbGRFbGVtZW50Q291bnQ7IGkgPCBhcnIuJHZhbC5sZW5ndGg7IGkrKylcbiAgICAgICAgaW5zZXJ0VG9Eb20ocGFyZW50RG9tLCBpLCByZW5kZXJSZXR1cm4oYXJyLiR2YWxbaV0sIGkpKTtcbiAgICB9XG4gIH07XG4gIGNvbXB1dGUocmVuZGVyQWxsLCBhcnIpO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=