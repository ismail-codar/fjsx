!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.value=((e,t)=>{if(e&&void 0!=e.$val)throw"Fjsx: Higher ordered signals is not supported.";const n=e=>{Array.isArray(e)&&!n.$val.innerArray?n.$val.innerArray=e:n.$val=e;const t=n.computes;if(t.length)for(var r=0;r<t.length;r++)!t[r].freezed&&t[r](t[r].compute())};return n.$val=e,n.freezed=t,n.computes=[],n.toString=n.toJSON=(()=>n.$val.toString()),n}),t.array=(e=>{const n=t.value(new r.EventedArray(e));return n.on=n.$val.on,n.off=n.$val.off,n.toJSON=(()=>n.$val.innerArray),n}),t.on=((e,t,n)=>{e.$val.on(t,n)}),t.off=((e,t,n)=>{e.$val.off(t,n)}),t.compute=((e,...n)=>{var r=t.value();r.compute=e;for(var o=0;o<n.length;o++)n[o].computes.push(r);e()}),t.initCompute=((e,...n)=>{const r=t.value(e());return t.compute(()=>{r(e())},...n),r}),t.setCompute=((e,n,...r)=>(t.destroy(e),t.initCompute(e,n,...r))),t.destroy=(e=>{delete e.compute,delete e.computes})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[],o={};t.startContext=((e,t)=>{o[e]||(o[e]=[]),o[e].push(t),r.push(e)}),t.getContextValue=((e,t)=>t&&t.$context[e]?t.$context[e]:o[e]?o[e][o[e].length-1]:void 0),t.injectContexts=(e=>{e.$context||Object.defineProperty(e,"$context",{configurable:!1,enumerable:!1,value:{}});let t=null;for(var n=0;n<r.length;n++)t=r[n],e.$context[t]=o[t][o[t].length-1]}),t.endContext=(e=>{o[e].pop(),r.pop()}),t.activateContext=(e=>{for(var n in e)t.startContext(n,e[n])}),t.deactivateContext=(e=>{for(var n in e)t.endContext(n)}),t.Context=(e=>null)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(0)),r(n(5)),r(n(6)),r(n(1)),r(n(7)),r(n(11))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventedArray=function(e){var t=this,n=[],r={itemadded:[],itemremoved:[],itemset:[]};function o(e){e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t,i({type:"itemset",index:e,item:t})}})}function i(e){r[e.type].forEach(function(n){n.call(t,e)})}t.on=function(e,t){r[e].push(t)},t.off=function(e,t){for(var n=r[e],o=n.length;--o>=0;)n[o]===t&&n.splice(o,1)},t.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=n.length,n.push(arguments[t]),o(e),i({type:"itemadded",index:e,item:arguments[t]});return n.length},t.pop=function(){if(n.length>-1){var e=n.length-1,r=n.pop();return delete t[e],i({type:"itemremoved",index:e,item:r}),r}},t.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)n.splice(e,0,arguments[e]),o(n.length-1),i({type:"itemadded",index:e,item:arguments[e]});for(;e<n.length;e++)i({type:"itemset",index:e,item:n[e]});return n.length},t.shift=function(){if(n.length>-1){var e=n.shift();return delete t[n.length],i({type:"itemremoved",index:0,item:e}),e}},t.splice=function(e,r){var l,s=[];for(e=null==e?0:e<0?n.length+e:e,r=null==r?n.length-e:r>0?r:0;r--;)l=n.splice(e,1)[0],s.push(l),delete t[n.length],i({type:"itemremoved",index:e+s.length-1,item:l});for(var u=2,c=arguments.length;u<c;u++)n.splice(e,0,arguments[u]),o(n.length-1),i({type:"itemadded",index:e,item:arguments[u]}),e++;return s},Object.defineProperty(t,"length",{configurable:!1,enumerable:!1,get:function(){return n.length},set:function(e){var r=Number(e),o=n.length;if(!(r%1==0&&r>=0))throw new RangeError("Invalid array length");return r<o?t.splice(r):r>o&&t.push.apply(t,new Array(r-o)),n.length=r,e}}),Object.defineProperty(t,"innerArray",{configurable:!1,enumerable:!1,get:function(){return n},set:function(e){n=e}}),Object.getOwnPropertyNames(Array.prototype).forEach(function(e){e in t||Object.defineProperty(t,e,{configurable:!1,enumerable:!1,writable:!1,value:Array.prototype[e]})}),t.toJSON=(()=>n),e instanceof Array&&t.push.apply(t,e)}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(0),i=n(1);t.conditionalElement=((e,t,n)=>{e.$props&&i.activateContext(e.$props.$context);let r=n();return e.$props&&i.deactivateContext(e.$props.$context),r instanceof Node==!1&&(r=document.createTextNode(r||"")),t?e.replaceChild(r,t):e.appendChild(r),r}),t.insertToDom=((e,t,n)=>{n instanceof Function?n(e):(n instanceof Node==!1&&(n=document.createTextNode(n)),e.insertBefore(n,e.childNodes[t]))}),t.arrayMap=((e,n,i)=>{const l=e.$val instanceof r.EventedArray?e.$val:new r.EventedArray(e.$val);l.on("itemadded",function(e){t.insertToDom(n,e.index,i(e.item,e.index))}),l.on("itemset",function(e){n.replaceChild(i(e.item,e.index),n.childNodes.item(e.index))}),l.on("itemremoved",function(e){n.removeChild(n.childNodes.item(e.index))}),e(l);o.compute(()=>{if(0===e.$val.length)n.textContent="";else{n.textContent="";for(var r=n.childElementCount;r<e.$val.length;r++)t.insertToDom(n,r,i(e.$val[r],r))}},e)}),t.arrayMapWithClone=((e,n,i,l)=>{const s=e.$val instanceof r.EventedArray?e.$val:new r.EventedArray(e.$val);let u=null;const c=(e,t,n)=>{l.forEach(r=>{const o=Object.assign([],r.path);for(;o.length;)e=e.childNodes[o.shift()];r.fn(e,t,n)})},a=e=>null==u?u=i(e):u.cloneNode(!0);s.on("itemadded",function(e){let r=a(0);c(r,e.item,e.index),t.insertToDom(n,e.index,r)}),s.on("itemset",function(e){let t=a(e.index);c(t,e.item,e.index),n.replaceChild(t,n.childNodes.item(e.index))}),s.on("itemremoved",function(e){n.removeChild(n.childNodes.item(e.index))}),e(s);o.compute(()=>{if(0===e.$val.length)n.textContent="";else{u=i(0),c(u,e.$val[0],0),t.insertToDom(n,0,u);for(var r=1;r<e.$val.length;r++){const o=u.cloneNode(!0);c(o,e.$val[r],r),t.insertToDom(n,r,o)}}},e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);var o=/^on[A-Z]/;t.Fragment=Symbol("fjsx.Fragment"),t.setElementAttributes=((e,n,r)=>{let i=null;for(var l in n)if(void 0!=(i=n[l]))if(i instanceof Function)o.test(l)?e[l=l.toLowerCase()]=i:i(e);else if(i instanceof Object)if(Array.isArray(i))t.addChildElements(e,i);else for(var s in i)"function"==typeof i[s]&&i[s](e);else r||-1!==l.indexOf("-")?e.setAttribute(l,i):e[l]=i}),t.createElement=((e,n,...o)=>{let i=null;return e instanceof Function?(null===n&&(n={}),o&&o.length&&(n.children=o),r.injectContexts(n),(i=e(n))&&(i.$props=n)):(e===t.Fragment?i=document.createDocumentFragment():(i=document.createElement(e),n&&t.setElementAttributes(i,n,!1)),i.$props=n,o&&o.length&&t.addChildElements(i,o)),i}),t.createSvgElement=((e,n,...r)=>{let o=document.createElementNS("http://www.w3.org/2000/svg",e);return n&&(n.className&&(n.class=n.className,delete n.className),t.setElementAttributes(o,n,!0)),o.$props=n,r&&r.length&&t.addChildElements(o,r),o}),t.addChildElements=((e,n)=>{let r=null;for(var o=0;o<n.length;o++)Array.isArray(n[o])?t.addChildElements(e,n[o]):n[o]instanceof Function?n[o](e):n[o]&&(r=n[o].$props,e.appendChild(n[o]instanceof Node?n[o]:document.createTextNode(n[o])),r&&r.didMount&&r.didMount(e,n[o]))}),t.createTextNode=(e=>e.appendChild(document.createTextNode(""))),t.cloneElement=((e,n)=>(e=e.cloneNode(!0),n&&t.setElementAttributes(e,n,!1),e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2),o=n(8);class i{constructor(e){this.isUnsubscribed=!1,this.handlers=null,this._unsubscribe=null,this.handlers=e,this.isUnsubscribed=!1}next(e){this.handlers.next&&!this.isUnsubscribed&&this.handlers.next(e)}error(e){this.isUnsubscribed||(this.handlers.error&&this.handlers.error(e),this.unsubscribe())}complete(){this.isUnsubscribed||(this.handlers.complete&&this.handlers.complete(),this.unsubscribe())}unsubscribe(){this.isUnsubscribed=!0,this._unsubscribe&&this._unsubscribe()}}t.toObservable=(e=>new class{constructor(e){this._subscribe=null,this._subscribe=e}subscribe(e){const t=new i(e);return t._unsubscribe=this._subscribe(t),{unsubscribe(){t.unsubscribe()}}}[o.default](){return this}}(t=>{var n=r.value(()=>{t.next(e.$val)});e.computes.push(n)}))},function(e,t,n){"use strict";n.r(t),function(e,r){var o,i=n(4);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var l=Object(i.a)(o);t.default=l}.call(this,n(9),n(10)(e))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.setDefaults=((e,t)=>{for(var n in t)void 0===e[n]&&(e[n]=t[n])}),t.mapProperty=((e,t,n)=>{const o=Object.getOwnPropertyDescriptor(e,t);o.configurable?Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:()=>n.$val,set:n}):o.set.computes.push(r.value(()=>{n(e[t])}))})}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbGliL2YudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2NvbnRleHQudHMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2V2ZW50ZWQtYXJyYXkudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL3BvbnlmaWxsLmpzIiwid2VicGFjazovLy8uL2xpYi9kb20udHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2RvbS10cmVlLnRzIiwid2VicGFjazovLy8uL2xpYi9vYnNlcnZhYmxlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9oYXJtb255LW1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9saWIvdXRpbC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImV2ZW50ZWRfYXJyYXlfMSIsImZyZWV6ZWQiLCJ1bmRlZmluZWQiLCJpbm5lckZuIiwidmFsIiwiQXJyYXkiLCJpc0FycmF5IiwiaW5uZXJBcnJheSIsImNvbXB1dGVzIiwibGVuZ3RoIiwiY29tcHV0ZSIsInRvU3RyaW5nIiwidG9KU09OIiwiYXJyYXkiLCJpdGVtcyIsImFyciIsIkV2ZW50ZWRBcnJheSIsIm9uIiwiJHZhbCIsIm9mZiIsInR5cGUiLCJjYWxsYmFjayIsImZuIiwiYXJncyIsInB1c2giLCJpbml0Q29tcHV0ZSIsImNWYWx1ZSIsInNldENvbXB1dGUiLCJwcmV2IiwiZGVzdHJveSIsIml0ZW0iLCJhY3RpdmVDb250ZXh0S2V5cyIsImFwcENvbnRleHQiLCJzdGFydENvbnRleHQiLCJnZXRDb250ZXh0VmFsdWUiLCJjb21wb25lbnRQcm9wcyIsImluamVjdENvbnRleHRzIiwiY29uZmlndXJhYmxlIiwiZW5kQ29udGV4dCIsInBvcCIsImFjdGl2YXRlQ29udGV4dCIsImNvbnRleHQiLCJkZWFjdGl2YXRlQ29udGV4dCIsIkNvbnRleHQiLCJwcm9wcyIsIl9fZXhwb3J0IiwiX3NlbGYiLCJ0aGlzIiwiX2FycmF5IiwiX2hhbmRsZXJzIiwiaXRlbWFkZGVkIiwiaXRlbXJlbW92ZWQiLCJpdGVtc2V0IiwiZGVmaW5lSW5kZXhQcm9wZXJ0eSIsImluZGV4Iiwic2V0IiwidiIsInJhaXNlRXZlbnQiLCJldmVudCIsImZvckVhY2giLCJoIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsImxuIiwic3BsaWNlIiwiYXJndW1lbnRzIiwidW5zaGlmdCIsInNoaWZ0IiwiaG93TWFueSIsInJlbW92ZWQiLCJOdW1iZXIiLCJSYW5nZUVycm9yIiwiYXBwbHkiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwid3JpdGFibGUiLCJzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwiLCJyb290IiwicmVzdWx0Iiwib2JzZXJ2YWJsZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJmXzEiLCJjb250ZXh0XzEiLCJjb25kaXRpb25hbEVsZW1lbnQiLCJwYXJlbnRFbGVtZW50Iiwib2xkRWxlbWVudCIsIm5ld0VsZW1lbnRGbiIsIm5ld0VsZW1lbnQiLCJOb2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsInJlcGxhY2VDaGlsZCIsImFwcGVuZENoaWxkIiwiaW5zZXJ0VG9Eb20iLCJpdGVtRWxlbWVudCIsIkZ1bmN0aW9uIiwiaW5zZXJ0QmVmb3JlIiwiY2hpbGROb2RlcyIsImFycmF5TWFwIiwicGFyZW50RG9tIiwicmVuZGVyUmV0dXJuIiwib0FyciIsImUiLCJyZW1vdmVDaGlsZCIsInRleHRDb250ZW50IiwiY2hpbGRFbGVtZW50Q291bnQiLCJhcnJheU1hcFdpdGhDbG9uZSIsInJlbmRlclRlbXBsYXRlIiwidXBkYXRlTGlzdCIsImZpcnN0SXRlbURvbSIsInJlbmRlckl0ZW1Ob2RlIiwiaXRlbU5vZGUiLCJkYXRhIiwicGF0aCIsImFzc2lnbiIsImNyZWF0ZU5ld0l0ZW1Ob2RlIiwiY2xvbmVOb2RlIiwibmV3SXRlbSIsImNsb25lZCIsImpzeEV2ZW50UHJvcGVydHkiLCJGcmFnbWVudCIsInNldEVsZW1lbnRBdHRyaWJ1dGVzIiwiZWxlbWVudCIsImF0dHJpYnV0ZXMiLCJmb3JjZVNldEF0dHIiLCJhdHRyaWJ1dGUiLCJhdHRyaWJ1dGVOYW1lIiwidGVzdCIsInRvTG93ZXJDYXNlIiwiYWRkQ2hpbGRFbGVtZW50cyIsImluZGV4T2YiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVFbGVtZW50IiwidGFnTmFtZSIsImNoaWxkcyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVTdmdFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY2xhc3NOYW1lIiwiY2xhc3MiLCJkaWRNb3VudCIsInBhcmVudCIsImNsb25lRWxlbWVudCIsIl9fMSIsInN5bWJvbF9vYnNlcnZhYmxlXzEiLCJPYnNlcnZlciIsIltvYmplY3QgT2JqZWN0XSIsImhhbmRsZXJzIiwiaXNVbnN1YnNjcmliZWQiLCJfdW5zdWJzY3JpYmUiLCJuZXh0IiwiZXJyb3IiLCJ1bnN1YnNjcmliZSIsImNvbXBsZXRlIiwidG9PYnNlcnZhYmxlIiwic3Vic2NyaWJlIiwiX3N1YnNjcmliZSIsIm9icyIsIm9ic2VydmVyIiwiZGVmYXVsdCIsImdsb2JhbCIsIl9wb255ZmlsbF9qc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwic2VsZiIsIndpbmRvdyIsImciLCJldmFsIiwib3JpZ2luYWxNb2R1bGUiLCJ3ZWJwYWNrUG9seWZpbGwiLCJjaGlsZHJlbiIsInNldERlZmF1bHRzIiwib2JqIiwiZGVmYXVsdHMiLCJtYXBQcm9wZXJ0eSIsInByb3BlcnR5S2V5IiwidmFsdWUkIiwiZGVzY3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiXSwibWFwcGluZ3MiOiI2REFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBMERBLE9BckRBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgs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LEVBQUNGLEVBQWFHLEVBQXFCQyxLQUM1RCxNQUFNQyxFQUFRcE0sT0FBT3FNLHlCQUF5Qk4sRUFBS0csR0FDL0NFLEVBQU16SSxhQUNSM0QsT0FBT0MsZUFBZThMLEVBQUtHLEdBQ3pCdkksY0FBYyxFQUNkekQsWUFBWSxFQUNaQyxJQUFLLElBQ0lnTSxFQUFPM0osS0FFaEJxQyxJQUFLc0gsSUFHUEMsRUFBTXZILElBQWMsU0FBRS9CLEtBQ3BCd0QsRUFBQS9GLE1BQU0sS0FDSjRMLEVBQU9KLEVBQUlHIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiaW1wb3J0IHsgRXZlbnRlZEFycmF5IH0gZnJvbSAnLi9ldmVudGVkLWFycmF5JztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRkpzeFZhbHVlPFQ+IHtcclxuXHQodmFsOiBUKTogdm9pZDtcclxuXHRyZWFkb25seSAkdmFsOiBUO1xyXG5cdGZyZWV6ZWQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEZqc3hBcnJheUV2ZW50VHlwZSA9ICdpdGVtYWRkZWQnIHwgJ2l0ZW1zZXQnIHwgJ2l0ZW1yZW1vdmVkJztcclxuXHJcbmV4cG9ydCBjb25zdCB2YWx1ZSA9IDxUPih2YWx1ZT86IFQsIGZyZWV6ZWQ/OiBib29sZWFuKTogRkpzeFZhbHVlPFQ+ID0+IHtcclxuXHRpZiAodmFsdWUgJiYgdmFsdWVbJyR2YWwnXSAhPSB1bmRlZmluZWQpIHRocm93ICdGanN4OiBIaWdoZXIgb3JkZXJlZCBzaWduYWxzIGlzIG5vdCBzdXBwb3J0ZWQuJztcclxuXHRjb25zdCBpbm5lckZuOiBhbnkgPSAodmFsPykgPT4ge1xyXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsKSAmJiAhaW5uZXJGblsnJHZhbCddLmlubmVyQXJyYXkpIHtcclxuXHRcdFx0Ly8gVE9ETyBhcnJheWxlciBpw6dpbiBjb21waWxlIHRpbWUgeC4kdmFsID0geSDFn2VrbGluZGUgdGFuxLFtbGFtYSBvbG11xZ8gb2xtYWzEsSBvIHphbWFuIHl1a2FyZGFraSBpbm5lckZuIGdlcmVrc2l6IG9sdXJcclxuXHRcdFx0Ly8gVE9ETyBodHRwczovL2dpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi9tYWppbmJ1dVxyXG5cdFx0XHRpbm5lckZuWyckdmFsJ10uaW5uZXJBcnJheSA9IHZhbDtcclxuXHRcdH0gZWxzZSBpbm5lckZuWyckdmFsJ10gPSB2YWw7XHJcblx0XHRjb25zdCBjb21wdXRlcyA9IGlubmVyRm5bJ2NvbXB1dGVzJ107XHJcblx0XHRpZiAoY29tcHV0ZXMubGVuZ3RoKVxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNvbXB1dGVzLmxlbmd0aDsgaSsrKSAhY29tcHV0ZXNbaV1bJ2ZyZWV6ZWQnXSAmJiBjb21wdXRlc1tpXShjb21wdXRlc1tpXS5jb21wdXRlKCkpO1xyXG5cdH07XHJcblx0aW5uZXJGblsnJHZhbCddID0gdmFsdWU7XHJcblx0aW5uZXJGblsnZnJlZXplZCddID0gZnJlZXplZDtcclxuXHJcblx0aW5uZXJGblsnY29tcHV0ZXMnXSA9IFtdO1xyXG5cdGlubmVyRm4udG9TdHJpbmcgPSBpbm5lckZuLnRvSlNPTiA9ICgpID0+IGlubmVyRm5bJyR2YWwnXS50b1N0cmluZygpO1xyXG5cdHJldHVybiBpbm5lckZuO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFycmF5ID0gPFQ+KFxyXG5cdGl0ZW1zOiBUW11cclxuKToge1xyXG5cdG9uPzogKHR5cGU6IEZqc3hBcnJheUV2ZW50VHlwZSwgY2FsbGJhY2s6IChlOiB7IGl0ZW06IFQ7IGluZGV4OiBudW1iZXIgfSkgPT4gdm9pZCkgPT4gdm9pZDtcclxuXHRyZW1vdmVFdmVudExpc3RlbmVyPzogKHR5cGU6IEZqc3hBcnJheUV2ZW50VHlwZSkgPT4gdm9pZDtcclxuXHQkdmFsOiBUW107XHJcbn0gPT4ge1xyXG5cdGNvbnN0IGFyciA9IHZhbHVlKG5ldyBFdmVudGVkQXJyYXkoaXRlbXMpKSBhcyBhbnk7XHJcblx0YXJyLm9uID0gYXJyLiR2YWwub247XHJcblx0YXJyLm9mZiA9IGFyci4kdmFsLm9mZjtcclxuXHRhcnIudG9KU09OID0gKCkgPT4gYXJyLiR2YWwuaW5uZXJBcnJheTtcclxuXHJcblx0cmV0dXJuIGFycjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvbiA9IChhcnI6IGFueVtdLCB0eXBlOiBGanN4QXJyYXlFdmVudFR5cGUsIGNhbGxiYWNrOiAoZTogeyBpdGVtOiBhbnk7IGluZGV4OiBudW1iZXIgfSkgPT4gdm9pZCkgPT4ge1xyXG5cdGFyclsnJHZhbCddLm9uKHR5cGUsIGNhbGxiYWNrKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBvZmYgPSAoYXJyOiBhbnlbXSwgdHlwZTogRmpzeEFycmF5RXZlbnRUeXBlLCBjYWxsYmFjazogKGU6IHsgaXRlbTogYW55OyBpbmRleDogbnVtYmVyIH0pID0+IHZvaWQpID0+IHtcclxuXHRhcnJbJyR2YWwnXS5vZmYodHlwZSwgY2FsbGJhY2spO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbXB1dGUgPSAoZm46ICgpID0+IHZvaWQsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcblx0dmFyIGNvbXB1dGUgPSB2YWx1ZSgpO1xyXG5cdGNvbXB1dGVbJ2NvbXB1dGUnXSA9IGZuO1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykgYXJnc1tpXVsnY29tcHV0ZXMnXS5wdXNoKGNvbXB1dGUpO1xyXG5cdGZuKCk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdENvbXB1dGUgPSAoZm46ICgpID0+IGFueSwgLi4uYXJnczogYW55W10pID0+IHtcclxuXHRjb25zdCBjVmFsdWUgPSB2YWx1ZShmbigpKTtcclxuXHRjb21wdXRlKCgpID0+IHtcclxuXHRcdGNWYWx1ZShmbigpKTtcclxuXHR9LCAuLi5hcmdzKTtcclxuXHRyZXR1cm4gY1ZhbHVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldENvbXB1dGUgPSAocHJldjogYW55LCBmbjogKCkgPT4gdm9pZCwgLi4uYXJnczogYW55W10pID0+IHtcclxuXHRkZXN0cm95KHByZXYpO1xyXG5cdHJldHVybiBpbml0Q29tcHV0ZShwcmV2LCBmbiwgLi4uYXJncyk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVzdHJveSA9IChpdGVtOiBhbnkpID0+IHtcclxuXHRkZWxldGUgaXRlbVsnY29tcHV0ZSddO1xyXG5cdGRlbGV0ZSBpdGVtWydjb21wdXRlcyddO1xyXG59O1xyXG4iLCJjb25zdCBhY3RpdmVDb250ZXh0S2V5cyA9IFtdO1xuY29uc3QgYXBwQ29udGV4dDogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9ID0ge307XG5cbmV4cG9ydCBjb25zdCBzdGFydENvbnRleHQgPSAoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHtcbiAgaWYgKCFhcHBDb250ZXh0W2tleV0pIGFwcENvbnRleHRba2V5XSA9IFtdO1xuICBhcHBDb250ZXh0W2tleV0ucHVzaCh2YWx1ZSk7XG4gIGFjdGl2ZUNvbnRleHRLZXlzLnB1c2goa2V5KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZXh0VmFsdWUgPSAoa2V5OiBzdHJpbmcsIGNvbXBvbmVudFByb3BzOiBhbnkpID0+IHtcbiAgaWYgKGNvbXBvbmVudFByb3BzICYmIGNvbXBvbmVudFByb3BzW1wiJGNvbnRleHRcIl1ba2V5XSlcbiAgICByZXR1cm4gY29tcG9uZW50UHJvcHNbXCIkY29udGV4dFwiXVtrZXldO1xuICBpZiAoYXBwQ29udGV4dFtrZXldKSByZXR1cm4gYXBwQ29udGV4dFtrZXldW2FwcENvbnRleHRba2V5XS5sZW5ndGggLSAxXTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbmplY3RDb250ZXh0cyA9IChjb21wb25lbnRQcm9wczogYW55KSA9PiB7XG4gIGlmICghY29tcG9uZW50UHJvcHNbXCIkY29udGV4dFwiXSlcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29tcG9uZW50UHJvcHMsIFwiJGNvbnRleHRcIiwge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHt9XG4gICAgfSk7XG4gIGxldCBrZXkgPSBudWxsO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZUNvbnRleHRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gYWN0aXZlQ29udGV4dEtleXNbaV07XG4gICAgY29tcG9uZW50UHJvcHNbXCIkY29udGV4dFwiXVtrZXldID1cbiAgICAgIGFwcENvbnRleHRba2V5XVthcHBDb250ZXh0W2tleV0ubGVuZ3RoIC0gMV07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBlbmRDb250ZXh0ID0gKGtleTogc3RyaW5nKSA9PiB7XG4gIGFwcENvbnRleHRba2V5XS5wb3AoKTtcbiAgYWN0aXZlQ29udGV4dEtleXMucG9wKCk7XG59O1xuXG5leHBvcnQgY29uc3QgYWN0aXZhdGVDb250ZXh0ID0gY29udGV4dCA9PiB7XG4gIGZvciAodmFyIGtleSBpbiBjb250ZXh0KSBzdGFydENvbnRleHQoa2V5LCBjb250ZXh0W2tleV0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlYWN0aXZhdGVDb250ZXh0ID0gY29udGV4dCA9PiB7XG4gIGZvciAodmFyIGtleSBpbiBjb250ZXh0KSBlbmRDb250ZXh0KGtleSk7XG59O1xuXG5leHBvcnQgY29uc3QgQ29udGV4dCA9IChwcm9wczogeyBrZXk6IHN0cmluZzsgdmFsdWU6IGFueSB9KSA9PiBudWxsO1xuIiwiZXhwb3J0ICogZnJvbSAnLi9saWIvZic7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kb20nO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvZG9tLXRyZWUnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvY29udGV4dCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9vYnNlcnZhYmxlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3V0aWwnO1xuIiwiLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTEwMDM3Ni9ob3ctdG8td2F0Y2gtZm9yLWFycmF5LWNoYW5nZXNcbmV4cG9ydCBmdW5jdGlvbiBFdmVudGVkQXJyYXkoaXRlbXMpIHtcbiAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICBfYXJyYXkgPSBbXSxcbiAgICBfaGFuZGxlcnMgPSB7XG4gICAgICBpdGVtYWRkZWQ6IFtdLFxuICAgICAgaXRlbXJlbW92ZWQ6IFtdLFxuICAgICAgaXRlbXNldDogW11cbiAgICB9O1xuXG4gIGZ1bmN0aW9uIGRlZmluZUluZGV4UHJvcGVydHkoaW5kZXgpIHtcbiAgICBpZiAoIShpbmRleCBpbiBfc2VsZikpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfc2VsZiwgaW5kZXgsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBfYXJyYXlbaW5kZXhdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBfYXJyYXlbaW5kZXhdID0gdjtcbiAgICAgICAgICByYWlzZUV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6IFwiaXRlbXNldFwiLFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgaXRlbTogdlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByYWlzZUV2ZW50KGV2ZW50KSB7XG4gICAgX2hhbmRsZXJzW2V2ZW50LnR5cGVdLmZvckVhY2goZnVuY3Rpb24oaCkge1xuICAgICAgaC5jYWxsKF9zZWxmLCBldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBfc2VsZi5vbiA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIF9oYW5kbGVyc1tldmVudE5hbWVdLnB1c2goaGFuZGxlcik7XG4gIH07XG5cbiAgX3NlbGYub2ZmID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgdmFyIGggPSBfaGFuZGxlcnNbZXZlbnROYW1lXTtcbiAgICB2YXIgbG4gPSBoLmxlbmd0aDtcbiAgICB3aGlsZSAoLS1sbiA+PSAwKSB7XG4gICAgICBpZiAoaFtsbl0gPT09IGhhbmRsZXIpIHtcbiAgICAgICAgaC5zcGxpY2UobG4sIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfc2VsZi5wdXNoID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZGV4O1xuICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICBpbmRleCA9IF9hcnJheS5sZW5ndGg7XG4gICAgICBfYXJyYXkucHVzaChhcmd1bWVudHNbaV0pO1xuICAgICAgZGVmaW5lSW5kZXhQcm9wZXJ0eShpbmRleCk7XG4gICAgICByYWlzZUV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJpdGVtYWRkZWRcIixcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBpdGVtOiBhcmd1bWVudHNbaV1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gX2FycmF5Lmxlbmd0aDtcbiAgfTtcblxuICBfc2VsZi5wb3AgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoX2FycmF5Lmxlbmd0aCA+IC0xKSB7XG4gICAgICB2YXIgaW5kZXggPSBfYXJyYXkubGVuZ3RoIC0gMSxcbiAgICAgICAgaXRlbSA9IF9hcnJheS5wb3AoKTtcbiAgICAgIGRlbGV0ZSBfc2VsZltpbmRleF07XG4gICAgICByYWlzZUV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJpdGVtcmVtb3ZlZFwiLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGl0ZW06IGl0ZW1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfVxuICB9O1xuXG4gIF9zZWxmLnVuc2hpZnQgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xuICAgICAgX2FycmF5LnNwbGljZShpLCAwLCBhcmd1bWVudHNbaV0pO1xuICAgICAgZGVmaW5lSW5kZXhQcm9wZXJ0eShfYXJyYXkubGVuZ3RoIC0gMSk7XG4gICAgICByYWlzZUV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJpdGVtYWRkZWRcIixcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIGl0ZW06IGFyZ3VtZW50c1tpXVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZvciAoOyBpIDwgX2FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICByYWlzZUV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJpdGVtc2V0XCIsXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBpdGVtOiBfYXJyYXlbaV1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gX2FycmF5Lmxlbmd0aDtcbiAgfTtcblxuICBfc2VsZi5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChfYXJyYXkubGVuZ3RoID4gLTEpIHtcbiAgICAgIHZhciBpdGVtID0gX2FycmF5LnNoaWZ0KCk7XG4gICAgICBkZWxldGUgX3NlbGZbX2FycmF5Lmxlbmd0aF07XG4gICAgICByYWlzZUV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJpdGVtcmVtb3ZlZFwiLFxuICAgICAgICBpbmRleDogMCxcbiAgICAgICAgaXRlbTogaXRlbVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gIH07XG5cbiAgX3NlbGYuc3BsaWNlID0gZnVuY3Rpb24oaW5kZXgsIGhvd01hbnkgLyosIGVsZW1lbnQxLCBlbGVtZW50MiwgLi4uICovKSB7XG4gICAgdmFyIHJlbW92ZWQgPSBbXSxcbiAgICAgIGl0ZW0sXG4gICAgICBwb3M7XG5cbiAgICBpbmRleCA9IGluZGV4ID09IG51bGwgPyAwIDogaW5kZXggPCAwID8gX2FycmF5Lmxlbmd0aCArIGluZGV4IDogaW5kZXg7XG5cbiAgICBob3dNYW55ID1cbiAgICAgIGhvd01hbnkgPT0gbnVsbCA/IF9hcnJheS5sZW5ndGggLSBpbmRleCA6IGhvd01hbnkgPiAwID8gaG93TWFueSA6IDA7XG5cbiAgICB3aGlsZSAoaG93TWFueS0tKSB7XG4gICAgICBpdGVtID0gX2FycmF5LnNwbGljZShpbmRleCwgMSlbMF07XG4gICAgICByZW1vdmVkLnB1c2goaXRlbSk7XG4gICAgICBkZWxldGUgX3NlbGZbX2FycmF5Lmxlbmd0aF07XG4gICAgICByYWlzZUV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJpdGVtcmVtb3ZlZFwiLFxuICAgICAgICBpbmRleDogaW5kZXggKyByZW1vdmVkLmxlbmd0aCAtIDEsXG4gICAgICAgIGl0ZW06IGl0ZW1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAyLCBsbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICBfYXJyYXkuc3BsaWNlKGluZGV4LCAwLCBhcmd1bWVudHNbaV0pO1xuICAgICAgZGVmaW5lSW5kZXhQcm9wZXJ0eShfYXJyYXkubGVuZ3RoIC0gMSk7XG4gICAgICByYWlzZUV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJpdGVtYWRkZWRcIixcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBpdGVtOiBhcmd1bWVudHNbaV1cbiAgICAgIH0pO1xuICAgICAgaW5kZXgrKztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVtb3ZlZDtcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3NlbGYsIFwibGVuZ3RoXCIsIHtcbiAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gX2FycmF5Lmxlbmd0aDtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBuID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgIHZhciBsZW5ndGggPSBfYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKG4gJSAxID09PSAwICYmIG4gPj0gMCkge1xuICAgICAgICBpZiAobiA8IGxlbmd0aCkge1xuICAgICAgICAgIF9zZWxmLnNwbGljZShuKTtcbiAgICAgICAgfSBlbHNlIGlmIChuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgX3NlbGYucHVzaC5hcHBseShfc2VsZiwgbmV3IEFycmF5KG4gLSBsZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIGFycmF5IGxlbmd0aFwiKTtcbiAgICAgIH1cbiAgICAgIF9hcnJheS5sZW5ndGggPSBuO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9zZWxmLCBcImlubmVyQXJyYXlcIiwge1xuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfYXJyYXk7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIC8vIF9zZWxmLnB1c2guYXBwbHkoX3NlbGYsIHYpOyAvLyByZW5kZXJBbGxcbiAgICAgIF9hcnJheSA9IHY7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhBcnJheS5wcm90b3R5cGUpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgIGlmICghKG5hbWUgaW4gX3NlbGYpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3NlbGYsIG5hbWUsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IEFycmF5LnByb3RvdHlwZVtuYW1lXVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBfc2VsZi50b0pTT04gPSAoKSA9PiB7XG4gICAgcmV0dXJuIF9hcnJheTtcbiAgfTtcblxuICBpZiAoaXRlbXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIF9zZWxmLnB1c2guYXBwbHkoX3NlbGYsIGl0ZW1zKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRTeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcbiIsImltcG9ydCB7IEZKc3hWYWx1ZSB9IGZyb20gJy4uJztcbmltcG9ydCB7IEV2ZW50ZWRBcnJheSB9IGZyb20gJy4vZXZlbnRlZC1hcnJheSc7XG5pbXBvcnQgeyBjb21wdXRlIH0gZnJvbSAnLi9mJztcbmltcG9ydCB7IGFjdGl2YXRlQ29udGV4dCwgZGVhY3RpdmF0ZUNvbnRleHQgfSBmcm9tICcuLi9saWIvY29udGV4dCc7XG5cbmV4cG9ydCBjb25zdCBjb25kaXRpb25hbEVsZW1lbnQgPSAocGFyZW50RWxlbWVudCwgb2xkRWxlbWVudCwgbmV3RWxlbWVudEZuOiAoKSA9PiBhbnkpID0+IHtcblx0cGFyZW50RWxlbWVudFsnJHByb3BzJ10gJiYgYWN0aXZhdGVDb250ZXh0KHBhcmVudEVsZW1lbnRbJyRwcm9wcyddWyckY29udGV4dCddKTtcblx0bGV0IG5ld0VsZW1lbnQgPSBuZXdFbGVtZW50Rm4oKTtcblx0cGFyZW50RWxlbWVudFsnJHByb3BzJ10gJiYgZGVhY3RpdmF0ZUNvbnRleHQocGFyZW50RWxlbWVudFsnJHByb3BzJ11bJyRjb250ZXh0J10pO1xuXHRpZiAobmV3RWxlbWVudCBpbnN0YW5jZW9mIE5vZGUgPT09IGZhbHNlKSBuZXdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3RWxlbWVudCB8fCAnJyk7XG5cdGlmIChvbGRFbGVtZW50KSBwYXJlbnRFbGVtZW50LnJlcGxhY2VDaGlsZChuZXdFbGVtZW50LCBvbGRFbGVtZW50KTtcblx0ZWxzZSBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKG5ld0VsZW1lbnQpO1xuXHRyZXR1cm4gbmV3RWxlbWVudDtcbn07XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRUb0RvbSA9IChwYXJlbnRFbGVtZW50LCBpbmRleCwgaXRlbUVsZW1lbnQpID0+IHtcblx0aWYgKGl0ZW1FbGVtZW50IGluc3RhbmNlb2YgRnVuY3Rpb24pIGl0ZW1FbGVtZW50KHBhcmVudEVsZW1lbnQpO1xuXHRlbHNlIHtcblx0XHRpZiAoaXRlbUVsZW1lbnQgaW5zdGFuY2VvZiBOb2RlID09PSBmYWxzZSkgaXRlbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpdGVtRWxlbWVudCk7XG5cdFx0cGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoaXRlbUVsZW1lbnQsIHBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1tpbmRleF0pO1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgYXJyYXlNYXAgPSAoXG5cdGFycjogRkpzeFZhbHVlPGFueVtdPixcblx0cGFyZW50RG9tOiBIVE1MRWxlbWVudCxcblx0cmVuZGVyUmV0dXJuOiAoaXRlbTogYW55LCBpZHg/OiBudW1iZXIsIGlzSW5zZXJ0PzogYm9vbGVhbikgPT4gdm9pZFxuKSA9PiB7XG5cdGNvbnN0IG9BcnIgPSBhcnIuJHZhbCBpbnN0YW5jZW9mIEV2ZW50ZWRBcnJheSA/IGFyci4kdmFsIDogbmV3IEV2ZW50ZWRBcnJheShhcnIuJHZhbCk7XG5cblx0b0Fyci5vbignaXRlbWFkZGVkJywgZnVuY3Rpb24oZSkge1xuXHRcdGluc2VydFRvRG9tKHBhcmVudERvbSwgZS5pbmRleCwgcmVuZGVyUmV0dXJuKGUuaXRlbSwgZS5pbmRleCkpO1xuXHR9KTtcblxuXHRvQXJyLm9uKCdpdGVtc2V0JywgZnVuY3Rpb24oZSkge1xuXHRcdHBhcmVudERvbS5yZXBsYWNlQ2hpbGQocmVuZGVyUmV0dXJuKGUuaXRlbSwgZS5pbmRleCkgYXMgYW55LCBwYXJlbnREb20uY2hpbGROb2Rlcy5pdGVtKGUuaW5kZXgpKTtcblx0fSk7XG5cblx0b0Fyci5vbignaXRlbXJlbW92ZWQnLCBmdW5jdGlvbihlKSB7XG5cdFx0cGFyZW50RG9tLnJlbW92ZUNoaWxkKHBhcmVudERvbS5jaGlsZE5vZGVzLml0ZW0oZS5pbmRleCkpO1xuXHR9KTtcblx0YXJyKG9BcnIpO1xuXG5cdGNvbnN0IHJlbmRlckFsbCA9ICgpID0+IHtcblx0XHRpZiAoYXJyLiR2YWwubGVuZ3RoID09PSAwKSBwYXJlbnREb20udGV4dENvbnRlbnQgPSAnJztcblx0XHRlbHNlIHtcblx0XHRcdHBhcmVudERvbS50ZXh0Q29udGVudCA9ICcnO1xuXHRcdFx0Zm9yICh2YXIgaSA9IHBhcmVudERvbS5jaGlsZEVsZW1lbnRDb3VudDsgaSA8IGFyci4kdmFsLmxlbmd0aDsgaSsrKVxuXHRcdFx0XHRpbnNlcnRUb0RvbShwYXJlbnREb20sIGksIHJlbmRlclJldHVybihhcnIuJHZhbFtpXSwgaSkpO1xuXHRcdH1cblx0fTtcblx0Y29tcHV0ZShyZW5kZXJBbGwsIGFycik7XG59O1xuXG5leHBvcnQgY29uc3QgYXJyYXlNYXBXaXRoQ2xvbmUgPSAoXG5cdGFycjogRkpzeFZhbHVlPGFueVtdPixcblx0cGFyZW50RG9tLFxuXHRyZW5kZXJUZW1wbGF0ZTogKGk6IG51bWJlcikgPT4gRWxlbWVudCxcblx0dXBkYXRlTGlzdFxuKSA9PiB7XG5cdGNvbnN0IG9BcnIgPSBhcnIuJHZhbCBpbnN0YW5jZW9mIEV2ZW50ZWRBcnJheSA/IGFyci4kdmFsIDogbmV3IEV2ZW50ZWRBcnJheShhcnIuJHZhbCk7XG5cdGxldCBmaXJzdEl0ZW1Eb20gPSBudWxsO1xuXG5cdGNvbnN0IHJlbmRlckl0ZW1Ob2RlID0gKGl0ZW1Ob2RlLCBkYXRhLCBpKSA9PiB7XG5cdFx0dXBkYXRlTGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7XG5cdFx0XHRjb25zdCBwYXRoID0gT2JqZWN0LmFzc2lnbihbXSwgaXRlbS5wYXRoKTtcblx0XHRcdHdoaWxlIChwYXRoLmxlbmd0aCkge1xuXHRcdFx0XHRpdGVtTm9kZSA9IGl0ZW1Ob2RlLmNoaWxkTm9kZXNbcGF0aC5zaGlmdCgpXTtcblx0XHRcdH1cblx0XHRcdGl0ZW0uZm4oaXRlbU5vZGUsIGRhdGEsIGkpO1xuXHRcdH0pO1xuXHR9O1xuXHRjb25zdCBjcmVhdGVOZXdJdGVtTm9kZSA9IChpOiBudW1iZXIpID0+IHtcblx0XHRpZiAoZmlyc3RJdGVtRG9tID09IG51bGwpIHtcblx0XHRcdGZpcnN0SXRlbURvbSA9IHJlbmRlclRlbXBsYXRlKGkpO1xuXHRcdFx0cmV0dXJuIGZpcnN0SXRlbURvbTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGZpcnN0SXRlbURvbS5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0fVxuXHR9O1xuXG5cdG9BcnIub24oJ2l0ZW1hZGRlZCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRsZXQgbmV3SXRlbSA9IGNyZWF0ZU5ld0l0ZW1Ob2RlKDApO1xuXHRcdHJlbmRlckl0ZW1Ob2RlKG5ld0l0ZW0sIGUuaXRlbSwgZS5pbmRleCk7XG5cdFx0aW5zZXJ0VG9Eb20ocGFyZW50RG9tLCBlLmluZGV4LCBuZXdJdGVtKTtcblx0fSk7XG5cblx0b0Fyci5vbignaXRlbXNldCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRsZXQgbmV3SXRlbSA9IGNyZWF0ZU5ld0l0ZW1Ob2RlKGUuaW5kZXgpO1xuXHRcdHJlbmRlckl0ZW1Ob2RlKG5ld0l0ZW0sIGUuaXRlbSwgZS5pbmRleCk7XG5cdFx0cGFyZW50RG9tLnJlcGxhY2VDaGlsZChuZXdJdGVtLCBwYXJlbnREb20uY2hpbGROb2Rlcy5pdGVtKGUuaW5kZXgpKTtcblx0fSk7XG5cblx0b0Fyci5vbignaXRlbXJlbW92ZWQnLCBmdW5jdGlvbihlKSB7XG5cdFx0cGFyZW50RG9tLnJlbW92ZUNoaWxkKHBhcmVudERvbS5jaGlsZE5vZGVzLml0ZW0oZS5pbmRleCkpO1xuXHR9KTtcblx0YXJyKG9BcnIpO1xuXG5cdGNvbnN0IHJlbmRlckFsbCA9ICgpID0+IHtcblx0XHRpZiAoYXJyLiR2YWwubGVuZ3RoID09PSAwKSBwYXJlbnREb20udGV4dENvbnRlbnQgPSAnJztcblx0XHRlbHNlIHtcblx0XHRcdGZpcnN0SXRlbURvbSA9IHJlbmRlclRlbXBsYXRlKDApO1xuXG5cdFx0XHRyZW5kZXJJdGVtTm9kZShmaXJzdEl0ZW1Eb20sIGFyci4kdmFsWzBdLCAwKTtcblx0XHRcdGluc2VydFRvRG9tKHBhcmVudERvbSwgMCwgZmlyc3RJdGVtRG9tKTtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDE7IGkgPCBhcnIuJHZhbC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBjbG9uZWQgPSBmaXJzdEl0ZW1Eb20uY2xvbmVOb2RlKHRydWUpO1xuXHRcdFx0XHRyZW5kZXJJdGVtTm9kZShjbG9uZWQsIGFyci4kdmFsW2ldLCBpKTtcblx0XHRcdFx0aW5zZXJ0VG9Eb20ocGFyZW50RG9tLCBpLCBjbG9uZWQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0Y29tcHV0ZShyZW5kZXJBbGwsIGFycik7XG59O1xuIiwiaW1wb3J0IHsgaW5qZWN0Q29udGV4dHMgfSBmcm9tICcuL2NvbnRleHQnO1xyXG5cclxudmFyIGpzeEV2ZW50UHJvcGVydHkgPSAvXm9uW0EtWl0vO1xyXG5jb25zdCBzdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbmV4cG9ydCBjb25zdCBGcmFnbWVudCA9IFN5bWJvbCgnZmpzeC5GcmFnbWVudCcpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldEVsZW1lbnRBdHRyaWJ1dGVzID0gKGVsZW1lbnQ6IEVsZW1lbnQsIGF0dHJpYnV0ZXMsIGZvcmNlU2V0QXR0cj86IGJvb2xlYW4pID0+IHtcclxuXHRsZXQgYXR0cmlidXRlID0gbnVsbDtcclxuXHRmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuXHRcdGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XHJcblx0XHRpZiAoYXR0cmlidXRlICE9IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAoYXR0cmlidXRlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuXHRcdFx0XHRpZiAoanN4RXZlbnRQcm9wZXJ0eS50ZXN0KGF0dHJpYnV0ZU5hbWUpKSB7XHJcblx0XHRcdFx0XHRhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdFx0ZWxlbWVudFthdHRyaWJ1dGVOYW1lXSA9IGF0dHJpYnV0ZTtcclxuXHRcdFx0XHR9IGVsc2UgYXR0cmlidXRlKGVsZW1lbnQpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGF0dHJpYnV0ZSBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG5cdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KGF0dHJpYnV0ZSkpIHtcclxuXHRcdFx0XHRcdGFkZENoaWxkRWxlbWVudHMoZWxlbWVudCwgYXR0cmlidXRlKTtcclxuXHRcdFx0XHR9IGVsc2UgZm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZSkgaWYgKHR5cGVvZiBhdHRyaWJ1dGVba2V5XSA9PT0gJ2Z1bmN0aW9uJykgYXR0cmlidXRlW2tleV0oZWxlbWVudCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKGZvcmNlU2V0QXR0ciB8fCBhdHRyaWJ1dGVOYW1lLmluZGV4T2YoJy0nKSAhPT0gLTEpIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZSk7XHJcblx0XHRcdFx0ZWxzZSBlbGVtZW50W2F0dHJpYnV0ZU5hbWVdID0gYXR0cmlidXRlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAoXHJcblx0dGFnTmFtZTogc3RyaW5nIHwgRnVuY3Rpb24gfCBTeW1ib2wsXHJcblx0YXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSxcclxuXHQuLi5jaGlsZHM6IGFueVtdXHJcbikgPT4ge1xyXG5cdGxldCBlbGVtZW50ID0gbnVsbDtcclxuXHRpZiAodGFnTmFtZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcblx0XHRpZiAoYXR0cmlidXRlcyA9PT0gbnVsbCkgYXR0cmlidXRlcyA9IHt9O1xyXG5cdFx0aWYgKGNoaWxkcyAmJiBjaGlsZHMubGVuZ3RoKSBhdHRyaWJ1dGVzWydjaGlsZHJlbiddID0gY2hpbGRzO1xyXG5cdFx0aW5qZWN0Q29udGV4dHMoYXR0cmlidXRlcyk7XHJcblx0XHRlbGVtZW50ID0gKHRhZ05hbWUgYXMgYW55KShhdHRyaWJ1dGVzKTtcclxuXHRcdGlmIChlbGVtZW50KSBlbGVtZW50WyckcHJvcHMnXSA9IGF0dHJpYnV0ZXM7XHJcblx0fSBlbHNlIHtcclxuXHRcdGlmICh0YWdOYW1lID09PSBGcmFnbWVudCkge1xyXG5cdFx0XHRlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSBhcyBhbnkpO1xyXG5cdFx0XHRhdHRyaWJ1dGVzICYmIHNldEVsZW1lbnRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMsIGZhbHNlKTtcclxuXHRcdH1cclxuXHRcdGVsZW1lbnRbJyRwcm9wcyddID0gYXR0cmlidXRlcztcclxuXHRcdGNoaWxkcyAmJiBjaGlsZHMubGVuZ3RoICYmIGFkZENoaWxkRWxlbWVudHMoZWxlbWVudCwgY2hpbGRzKTtcclxuXHR9XHJcblx0cmV0dXJuIGVsZW1lbnQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlU3ZnRWxlbWVudCA9ICh0YWdOYW1lOiBzdHJpbmcsIGF0dHJpYnV0ZXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0sIC4uLmNoaWxkczogYW55W10pID0+IHtcclxuXHRsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgdGFnTmFtZSk7XHJcblx0aWYgKGF0dHJpYnV0ZXMpIHtcclxuXHRcdGlmIChhdHRyaWJ1dGVzLmNsYXNzTmFtZSkge1xyXG5cdFx0XHQvLyBUT0RPIGNvbXBpbGUgdGltZVxyXG5cdFx0XHRhdHRyaWJ1dGVzLmNsYXNzID0gYXR0cmlidXRlcy5jbGFzc05hbWU7XHJcblx0XHRcdGRlbGV0ZSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcclxuXHRcdH1cclxuXHRcdHNldEVsZW1lbnRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMsIHRydWUpO1xyXG5cdH1cclxuXHRlbGVtZW50WyckcHJvcHMnXSA9IGF0dHJpYnV0ZXM7XHJcblx0Y2hpbGRzICYmIGNoaWxkcy5sZW5ndGggJiYgYWRkQ2hpbGRFbGVtZW50cyhlbGVtZW50LCBjaGlsZHMpO1xyXG5cdHJldHVybiBlbGVtZW50O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZENoaWxkRWxlbWVudHMgPSAoZWxlbWVudCwgY2hpbGRzKSA9PiB7XHJcblx0bGV0IHByb3BzID0gbnVsbDtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoY2hpbGRzW2ldKSkgYWRkQ2hpbGRFbGVtZW50cyhlbGVtZW50LCBjaGlsZHNbaV0pO1xyXG5cdFx0ZWxzZSBpZiAoY2hpbGRzW2ldIGluc3RhbmNlb2YgRnVuY3Rpb24pIGNoaWxkc1tpXShlbGVtZW50KTtcclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRpZiAoY2hpbGRzW2ldKSB7XHJcblx0XHRcdFx0cHJvcHMgPSBjaGlsZHNbaV1bJyRwcm9wcyddO1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGRzW2ldIGluc3RhbmNlb2YgTm9kZSA/IGNoaWxkc1tpXSA6IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkc1tpXSkpO1xyXG5cdFx0XHRcdHByb3BzICYmIHByb3BzLmRpZE1vdW50ICYmIHByb3BzLmRpZE1vdW50KGVsZW1lbnQsIGNoaWxkc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVGV4dE5vZGUgPSAocGFyZW50KSA9PiB7XHJcblx0cmV0dXJuIHBhcmVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsb25lRWxlbWVudCA9IChlbGVtZW50OiBFbGVtZW50LCBhdHRyaWJ1dGVzOiBhbnkpID0+IHtcclxuXHRlbGVtZW50ID0gZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSkgYXMgRWxlbWVudDtcclxuXHRhdHRyaWJ1dGVzICYmIHNldEVsZW1lbnRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMsIGZhbHNlKTtcclxuXHRyZXR1cm4gZWxlbWVudDtcclxufTtcclxuIiwiaW1wb3J0IHsgRkpzeFZhbHVlLCB2YWx1ZSB9IGZyb20gXCIuLlwiO1xuaW1wb3J0ICQkc3ltYm9sT2JzZXJ2YWJsZSBmcm9tIFwic3ltYm9sLW9ic2VydmFibGVcIjtcblxuLy8gaHR0cHM6Ly9tZWRpdW0uY29tL0Bma251c3NlbC9hLXNpbXBsZS1vYnNlcnZhYmxlLWltcGxlbWVudGF0aW9uLWM5YzgwOWM4OWM2OVxuXG5jbGFzcyBPYnNlcnZlciB7XG4gIGlzVW5zdWJzY3JpYmVkID0gZmFsc2U7XG4gIGhhbmRsZXJzOiBQYXJ0aWFsPE9ic2VydmVyPiA9IG51bGw7XG4gIF91bnN1YnNjcmliZSA9IG51bGw7XG4gIGNvbnN0cnVjdG9yKGhhbmRsZXJzOiBQYXJ0aWFsPE9ic2VydmVyPikge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBoYW5kbGVyczsgLy8gbmV4dCwgZXJyb3IgYW5kIGNvbXBsZXRlIGxvZ2ljXG4gICAgdGhpcy5pc1Vuc3Vic2NyaWJlZCA9IGZhbHNlO1xuICB9XG5cbiAgbmV4dCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzLm5leHQgJiYgIXRoaXMuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMubmV4dCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgZXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoIXRoaXMuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgIGlmICh0aGlzLmhhbmRsZXJzLmVycm9yKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgaWYgKCF0aGlzLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICBpZiAodGhpcy5oYW5kbGVycy5jb21wbGV0ZSkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICB0aGlzLmlzVW5zdWJzY3JpYmVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLl91bnN1YnNjcmliZSkge1xuICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgT2JzZXJ2YWJsZSB7XG4gIF9zdWJzY3JpYmU6IChvYnNlcnZlcjogT2JzZXJ2ZXIpID0+ICgpID0+IHZvaWQgPSBudWxsO1xuICBjb25zdHJ1Y3RvcihzdWJzY3JpYmUpIHtcbiAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gIH1cblxuICBzdWJzY3JpYmUob2JzOiBQYXJ0aWFsPE9ic2VydmVyPikge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyKG9icyk7XG5cbiAgICBvYnNlcnZlci5fdW5zdWJzY3JpYmUgPSB0aGlzLl9zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBbJCRzeW1ib2xPYnNlcnZhYmxlXSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdG9PYnNlcnZhYmxlID0gPFQ+KGRhdGE6IEZKc3hWYWx1ZTxhbnk+KTogVCA9PiB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgdmFyIGNvbXB1dGUgPSB2YWx1ZSgoKSA9PiB7XG4gICAgICBvYnNlcnZlci5uZXh0KGRhdGEuJHZhbCk7XG4gICAgfSk7XG4gICAgZGF0YVtcImNvbXB1dGVzXCJdLnB1c2goY29tcHV0ZSk7XG4gIH0pIGFzIGFueTtcbn07XG4iLCIvKiBnbG9iYWwgd2luZG93ICovXG5pbXBvcnQgcG9ueWZpbGwgZnJvbSAnLi9wb255ZmlsbC5qcyc7XG5cbnZhciByb290O1xuXG5pZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gbW9kdWxlO1xufSBlbHNlIHtcbiAgcm9vdCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59XG5cbnZhciByZXN1bHQgPSBwb255ZmlsbChyb290KTtcbmV4cG9ydCBkZWZhdWx0IHJlc3VsdDtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9yaWdpbmFsTW9kdWxlKSB7XG5cdGlmICghb3JpZ2luYWxNb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0dmFyIG1vZHVsZSA9IE9iamVjdC5jcmVhdGUob3JpZ2luYWxNb2R1bGUpO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImV4cG9ydHNcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiaW1wb3J0IHsgdmFsdWUgfSBmcm9tIFwiLi9mXCI7XG5cbmV4cG9ydCBjb25zdCBzZXREZWZhdWx0cyA9IDxUPihcbiAgb2JqOiBULFxuICBkZWZhdWx0czogeyBba2V5IGluIGtleW9mIFRdPzogYW55IH1cbikgPT4ge1xuICBmb3IgKHZhciBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICBpZiAob2JqW2tleV0gPT09IHVuZGVmaW5lZCkgb2JqW2tleV0gPSBkZWZhdWx0c1trZXldO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbWFwUHJvcGVydHkgPSAob2JqOiBPYmplY3QsIHByb3BlcnR5S2V5OiBzdHJpbmcsIHZhbHVlJDogYW55KSA9PiB7XG4gIGNvbnN0IGRlc2NyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3BlcnR5S2V5KTtcbiAgaWYgKGRlc2NyLmNvbmZpZ3VyYWJsZSlcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eUtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHZhbHVlJC4kdmFsO1xuICAgICAgfSxcbiAgICAgIHNldDogdmFsdWUkXG4gICAgfSk7XG4gIGVsc2Uge1xuICAgIGRlc2NyLnNldFtcImNvbXB1dGVzXCJdLnB1c2goXG4gICAgICB2YWx1ZSgoKSA9PiB7XG4gICAgICAgIHZhbHVlJChvYmpbcHJvcGVydHlLZXldKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=