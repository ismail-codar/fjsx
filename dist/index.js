!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[],o={};t.startContext=((e,t)=>{o[e]||(o[e]=[]),o[e].push(t),r.push(e)}),t.getContextValue=((e,t)=>t&&t.$context[e]?t.$context[e]:o[e]?o[e][o[e].length-1]:void 0),t.injectContexts=(e=>{e.$context||Object.defineProperty(e,"$context",{configurable:!1,enumerable:!1,value:{}});let t=null;for(var n=0;n<r.length;n++)t=r[n],e.$context[t]=o[t][o[t].length-1]}),t.endContext=(e=>{o[e].pop(),r.pop()}),t.activateContext=(e=>{for(var n in e)t.startContext(n,e[n])}),t.deactivateContext=(e=>{for(var n in e)t.endContext(n)}),t.Context=(e=>null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventedArray=function(e){var t=this,n=[],r={itemadded:[],itemremoved:[],itemset:[]};function o(e){e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t,i({type:"itemset",index:e,item:t})}})}function i(e){r[e.type].forEach(function(n){n.call(t,e)})}t.on=function(e,t){r[e].push(t)},t.off=function(e,t){for(var n=r[e],o=n.length;--o>=0;)n[o]===t&&n.splice(o,1)},t.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=n.length,n.push(arguments[t]),o(e),i({type:"itemadded",index:e,item:arguments[t]});return n.length},t.pop=function(){if(n.length>-1){var e=n.length-1,r=n.pop();return delete t[e],i({type:"itemremoved",index:e,item:r}),r}},t.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)n.splice(e,0,arguments[e]),o(n.length-1),i({type:"itemadded",index:e,item:arguments[e]});for(;e<n.length;e++)i({type:"itemset",index:e,item:n[e]});return n.length},t.shift=function(){if(n.length>-1){var e=n.shift();return delete t[n.length],i({type:"itemremoved",index:0,item:e}),e}},t.splice=function(e,r){var s,u=[];for(e=null==e?0:e<0?n.length+e:e,r=null==r?n.length-e:r>0?r:0;r--;)s=n.splice(e,1)[0],u.push(s),delete t[n.length],i({type:"itemremoved",index:e+u.length-1,item:s});for(var l=2,c=arguments.length;l<c;l++)n.splice(e,0,arguments[l]),o(n.length-1),i({type:"itemadded",index:e,item:arguments[l]}),e++;return u},Object.defineProperty(t,"length",{configurable:!1,enumerable:!1,get:function(){return n.length},set:function(e){var r=Number(e),o=n.length;if(!(r%1==0&&r>=0))throw new RangeError("Invalid array length");return r<o?t.splice(r):r>o&&t.push.apply(t,new Array(r-o)),n.length=r,e}}),Object.defineProperty(t,"innerArray",{configurable:!1,enumerable:!1,get:function(){return n},set:function(e){n=e}}),Object.getOwnPropertyNames(Array.prototype).forEach(function(e){e in t||Object.defineProperty(t,e,{configurable:!1,enumerable:!1,writable:!1,value:Array.prototype[e]})}),t.toJSON=(()=>n),e instanceof Array&&t.push.apply(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.value=((e,t)=>{if(e&&void 0!=e.$val)throw"higher ordered signals is not supported";const n=e=>{Array.isArray(e)?n.$val.innerArray=e:n.$val=e;const t=n.computes;if(t.length)for(var r=0;r<t.length;r++)!t[r].freezed&&t[r](t[r].compute())};return n.$val=e,n.freezed=t,n.computes=[],e instanceof Function&&(n.compute=e),n.toString=n.toJSON=(()=>n.$val),n}),t.array=(e=>{const n=t.value(new r.EventedArray(e));return n.on=n.$val.on,n.off=n.$val.off,n.toJSON=(()=>n.$val.innerArray),n}),t.on=((e,t,n)=>{e.$val.on(t,n)}),t.off=((e,t,n)=>{e.$val.off(t,n)}),t.compute=((e,...n)=>{for(var r=t.value(e),o=0;o<n.length;o++)n[o].computes.push(r);e()}),t.initCompute=((e,...n)=>{var r=t.value(e()),o=function(){r(e())};o.compute=r;for(var i=0;i<n.length;i++)n[i].computes.push(o);return r}),t.setCompute=((e,n,...r)=>(t.destroy(e),t.initCompute(n,...r))),t.destroy=(e=>{delete e.compute,delete e.computes})},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(2)),r(n(11)),r(n(10)),r(n(0)),r(n(9)),r(n(5))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaults=((e,t)=>{for(var n in t)void 0===e[n]&&(e[n]=t[n])})},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),function(e,r){var o,i=n(4);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=Object(i.a)(o);t.default=s}.call(this,n(7),n(6)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=n(8);class i{constructor(e){this.isUnsubscribed=!1,this.handlers=null,this._unsubscribe=null,this.handlers=e,this.isUnsubscribed=!1}next(e){this.handlers.next&&!this.isUnsubscribed&&this.handlers.next(e)}error(e){this.isUnsubscribed||(this.handlers.error&&this.handlers.error(e),this.unsubscribe())}complete(){this.isUnsubscribed||(this.handlers.complete&&this.handlers.complete(),this.unsubscribe())}unsubscribe(){this.isUnsubscribed=!0,this._unsubscribe&&this._unsubscribe()}}t.toObservable=(e=>new class{constructor(e){this._subscribe=null,this._subscribe=e}subscribe(e){const t=new i(e);return t._unsubscribe=this._subscribe(t),{unsubscribe(){t.unsubscribe()}}}[o.default](){return this}}(t=>{var n=r.value(()=>{t.next(e.$val)});e.computes.push(n)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);var o=/^on[A-Z]/;t.Fragment=Symbol("fjsx.Fragment");const i=(e,n,r)=>{let i=null;for(var s in n)if(void 0!=(i=n[s]))if(i instanceof Function)o.test(s)?e[s=s.toLowerCase()]=i:i(e);else if(i instanceof Object)if(Array.isArray(i))t.addChildElements(e,i);else for(var u in i)"function"==typeof i[u]&&i[u](e);else r||-1!==s.indexOf("-")?e.setAttribute(s,i):e[s]=i};t.createElement=((e,n,...o)=>{let s=null;return e instanceof Function?(null===n&&(n={}),n.children=o,r.injectContexts(n),(s=e(n))&&(s.$props=n)):(e===t.Fragment?s=document.createDocumentFragment():(s=document.createElement(e),n&&i(s,n,!1)),s.$props=n,o&&o.length&&t.addChildElements(s,o)),s}),t.createSvgElement=((e,n,...r)=>{let o=document.createElementNS("http://www.w3.org/2000/svg",e);return n&&(n.className&&(n.class=n.className,delete n.className),i(o,n,!0)),r&&r.length&&t.addChildElements(o,r),o}),t.addChildElements=((e,n)=>{let r=null;for(var o=0;o<n.length;o++)Array.isArray(n[o])?t.addChildElements(e,n[o]):n[o]instanceof Function?n[o](e):n[o]&&(r=n[o].$props,e.appendChild(n[o]instanceof Node?n[o]:document.createTextNode(n[o])),r&&r.didMount&&r.didMount(e,n[o]))}),t.createTextNode=(e=>e.appendChild(document.createTextNode(""))),t.cloneElement=((e,t)=>(e=e.cloneNode(!0),t&&i(e,t,!1),e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),o=n(2),i=n(0);t.conditionalElement=((e,t,n)=>{i.activateContext(e.$props.$context);let r=n();return i.deactivateContext(e.$props.$context),r instanceof Node==!1&&(r=document.createTextNode(r||"")),t?e.replaceChild(r,t):e.appendChild(r),r}),t.insertToDom=((e,t,n)=>{n instanceof Function?n(e):(n instanceof Node==!1&&(n=document.createTextNode(n)),e.insertBefore(n,e.childNodes[t]))}),t.arrayMap=((e,n,i)=>{const s=e.$val instanceof r.EventedArray?e.$val:new r.EventedArray(e.$val);s.on("itemadded",function(e){t.insertToDom(n,e.index,i(e.item,e.index))}),s.on("itemset",function(e){n.replaceChild(i(e.item,e.index),n.childNodes.item(e.index))}),s.on("itemremoved",function(e){n.removeChild(n.childNodes.item(e.index))}),e(s);o.compute(()=>{if(0===e.$val.length)n.textContent="";else{n.textContent="";for(var r=n.childElementCount;r<e.$val.length;r++)t.insertToDom(n,r,i(e.$val[r],r))}},e)})}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbGliL2NvbnRleHQudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2V2ZW50ZWQtYXJyYXkudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2YudHMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL3BvbnlmaWxsLmpzIiwid2VicGFjazovLy8uL2xpYi91dGlsLnRzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9oYXJtb255LW1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9saWIvb2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly8vLi9saWIvZG9tLXRyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vbGliL2RvbS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYWN0aXZlQ29udGV4dEtleXMiLCJhcHBDb250ZXh0Iiwic3RhcnRDb250ZXh0Iiwia2V5IiwicHVzaCIsImdldENvbnRleHRWYWx1ZSIsImNvbXBvbmVudFByb3BzIiwibGVuZ3RoIiwiaW5qZWN0Q29udGV4dHMiLCJlbmRDb250ZXh0IiwicG9wIiwiYWN0aXZhdGVDb250ZXh0IiwiY29udGV4dCIsImRlYWN0aXZhdGVDb250ZXh0IiwiQ29udGV4dCIsInByb3BzIiwiRXZlbnRlZEFycmF5IiwiaXRlbXMiLCJfc2VsZiIsInRoaXMiLCJfYXJyYXkiLCJfaGFuZGxlcnMiLCJpdGVtYWRkZWQiLCJpdGVtcmVtb3ZlZCIsIml0ZW1zZXQiLCJkZWZpbmVJbmRleFByb3BlcnR5IiwiaW5kZXgiLCJzZXQiLCJ2IiwicmFpc2VFdmVudCIsInR5cGUiLCJpdGVtIiwiZXZlbnQiLCJmb3JFYWNoIiwiaCIsIm9uIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsIm9mZiIsImxuIiwic3BsaWNlIiwiYXJndW1lbnRzIiwidW5zaGlmdCIsInNoaWZ0IiwiaG93TWFueSIsInJlbW92ZWQiLCJOdW1iZXIiLCJSYW5nZUVycm9yIiwiYXBwbHkiLCJBcnJheSIsImdldE93blByb3BlcnR5TmFtZXMiLCJ3cml0YWJsZSIsInRvSlNPTiIsImV2ZW50ZWRfYXJyYXlfMSIsImZyZWV6ZWQiLCJ1bmRlZmluZWQiLCJpbm5lckZuIiwidmFsIiwiaXNBcnJheSIsImlubmVyQXJyYXkiLCJjb21wdXRlcyIsImNvbXB1dGUiLCJGdW5jdGlvbiIsInRvU3RyaW5nIiwiYXJyYXkiLCJhcnIiLCIkdmFsIiwiY2FsbGJhY2siLCJmbiIsImFyZ3MiLCJpbml0Q29tcHV0ZSIsImNWYWx1ZSIsImNtcElubmVyIiwic2V0Q29tcHV0ZSIsInByZXYiLCJkZXN0cm95IiwiX19leHBvcnQiLCJzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwiLCJyb290IiwicmVzdWx0IiwiU3ltYm9sIiwib2JzZXJ2YWJsZSIsInNldERlZmF1bHRzIiwib2JqIiwiZGVmYXVsdHMiLCJvcmlnaW5hbE1vZHVsZSIsIndlYnBhY2tQb2x5ZmlsbCIsImNyZWF0ZSIsImNoaWxkcmVuIiwiZyIsImV2YWwiLCJlIiwid2luZG93IiwiX3BvbnlmaWxsX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJzZWxmIiwiZ2xvYmFsIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIl9fMSIsInN5bWJvbF9vYnNlcnZhYmxlXzEiLCJPYnNlcnZlciIsIltvYmplY3QgT2JqZWN0XSIsImhhbmRsZXJzIiwiaXNVbnN1YnNjcmliZWQiLCJfdW5zdWJzY3JpYmUiLCJuZXh0IiwiZXJyb3IiLCJ1bnN1YnNjcmliZSIsImNvbXBsZXRlIiwidG9PYnNlcnZhYmxlIiwiZGF0YSIsInN1YnNjcmliZSIsIl9zdWJzY3JpYmUiLCJvYnMiLCJvYnNlcnZlciIsImRlZmF1bHQiLCJjb250ZXh0XzEiLCJqc3hFdmVudFByb3BlcnR5IiwiRnJhZ21lbnQiLCJzZXRFbGVtZW50QXR0cmlidXRlcyIsImVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwiZm9yY2VTZXRBdHRyIiwiYXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZSIsInRlc3QiLCJ0b0xvd2VyQ2FzZSIsImFkZENoaWxkRWxlbWVudHMiLCJpbmRleE9mIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlRWxlbWVudCIsInRhZ05hbWUiLCJjaGlsZHMiLCJkb2N1bWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVTdmdFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY2xhc3NOYW1lIiwiY2xhc3MiLCJhcHBlbmRDaGlsZCIsIk5vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImRpZE1vdW50IiwicGFyZW50IiwiY2xvbmVFbGVtZW50IiwiY2xvbmVOb2RlIiwiZl8xIiwiY29uZGl0aW9uYWxFbGVtZW50IiwicGFyZW50RWxlbWVudCIsIm9sZEVsZW1lbnQiLCJuZXdFbGVtZW50Rm4iLCJuZXdFbGVtZW50IiwicmVwbGFjZUNoaWxkIiwiaW5zZXJ0VG9Eb20iLCJpdGVtRWxlbWVudCIsImluc2VydEJlZm9yZSIsImNoaWxkTm9kZXMiLCJhcnJheU1hcCIsInBhcmVudERvbSIsInJlbmRlclJldHVybiIsIm9BcnIiLCJyZW1vdmVDaGlsZCIsInRleHRDb250ZW50IiwiY2hp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ZUFBZWEsSUFDeENOLEVBQWNPLGFBQWFELEVBQWFOLEVBQWNRLFdBQVdqSSxPQUl4RHJELEVBQUF1TCxTQUFXLEVBQ3RCM0YsRUFDQTRGLEVBQ0FDLEtBRUEsTUFBTUMsRUFDSjlGLEVBQUlDLGdCQUFnQmIsRUFBQXJDLGFBQWVpRCxFQUFJQyxLQUFPLElBQUliLEVBQUFyQyxhQUFhaUQsRUFBSUMsTUFFckU2RixFQUFLNUgsR0FBRyxZQUFhLFNBQVN3RCxHQUM1QnRILEVBQUFtTCxZQUFZSyxFQUFXbEUsRUFBRWpFLE1BQU9vSSxFQUFhbkUsRUFBRTVELEtBQU00RCxFQUFFakUsVUFHekRxSSxFQUFLNUgsR0FBRyxVQUFXLFNBQVN3RCxHQUMxQmtFLEVBQVVOLGFBQ1JPLEVBQWFuRSxFQUFFNUQsS0FBTTRELEVBQUVqRSxPQUN2Qm1JLEVBQVVGLFdBQVc1SCxLQUFLNEQsRUFBRWpFLFVBSWhDcUksRUFBSzVILEdBQUcsY0FBZSxTQUFTd0QsR0FDOUJrRSxFQUFVRyxZQUFZSCxFQUFVRixXQUFXNUgsS0FBSzRELEVBQUVqRSxVQUVwRHVDLEVBQUk4RixHQVVKZCxFQUFBcEYsUUFSa0IsS0FDaEIsR0FBd0IsSUFBcEJJLEVBQUlDLEtBQUszRCxPQUFjc0osRUFBVUksWUFBYyxPQUM5QyxDQUNISixFQUFVSSxZQUFjLEdBQ3hCLElBQUssSUFBSTFMLEVBQUlzTCxFQUFVSyxrQkFBbUIzTCxFQUFJMEYsRUFBSUMsS0FBSzNELE9BQVFoQyxJQUM3REYsRUFBQW1MLFlBQVlLLEVBQVd0TCxFQUFHdUwsRUFBYTdGLEVBQUlDLEtBQUszRixHQUFJQSxNQUd2QzBGIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsImNvbnN0IGFjdGl2ZUNvbnRleHRLZXlzID0gW107XG5jb25zdCBhcHBDb250ZXh0OiB7IFtrZXk6IHN0cmluZ106IGFueVtdIH0gPSB7fTtcblxuZXhwb3J0IGNvbnN0IHN0YXJ0Q29udGV4dCA9IChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICBpZiAoIWFwcENvbnRleHRba2V5XSkgYXBwQ29udGV4dFtrZXldID0gW107XG4gIGFwcENvbnRleHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgYWN0aXZlQ29udGV4dEtleXMucHVzaChrZXkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRleHRWYWx1ZSA9IChrZXk6IHN0cmluZywgY29tcG9uZW50UHJvcHM6IGFueSkgPT4ge1xuICBpZiAoY29tcG9uZW50UHJvcHMgJiYgY29tcG9uZW50UHJvcHNbXCIkY29udGV4dFwiXVtrZXldKVxuICAgIHJldHVybiBjb21wb25lbnRQcm9wc1tcIiRjb250ZXh0XCJdW2tleV07XG4gIGlmIChhcHBDb250ZXh0W2tleV0pIHJldHVybiBhcHBDb250ZXh0W2tleV1bYXBwQ29udGV4dFtrZXldLmxlbmd0aCAtIDFdO1xufTtcblxuZXhwb3J0IGNvbnN0IGluamVjdENvbnRleHRzID0gKGNvbXBvbmVudFByb3BzOiBhbnkpID0+IHtcbiAgaWYgKCFjb21wb25lbnRQcm9wc1tcIiRjb250ZXh0XCJdKVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb21wb25lbnRQcm9wcywgXCIkY29udGV4dFwiLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZToge31cbiAgICB9KTtcbiAgbGV0IGtleSA9IG51bGw7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlQ29udGV4dEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBhY3RpdmVDb250ZXh0S2V5c1tpXTtcbiAgICBjb21wb25lbnRQcm9wc1tcIiRjb250ZXh0XCJdW2tleV0gPVxuICAgICAgYXBwQ29udGV4dFtrZXldW2FwcENvbnRleHRba2V5XS5sZW5ndGggLSAxXTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGVuZENvbnRleHQgPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgYXBwQ29udGV4dFtrZXldLnBvcCgpO1xuICBhY3RpdmVDb250ZXh0S2V5cy5wb3AoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBhY3RpdmF0ZUNvbnRleHQgPSBjb250ZXh0ID0+IHtcbiAgZm9yICh2YXIga2V5IGluIGNvbnRleHQpIHN0YXJ0Q29udGV4dChrZXksIGNvbnRleHRba2V5XSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGVhY3RpdmF0ZUNvbnRleHQgPSBjb250ZXh0ID0+IHtcbiAgZm9yICh2YXIga2V5IGluIGNvbnRleHQpIGVuZENvbnRleHQoa2V5KTtcbn07XG5cbmV4cG9ydCBjb25zdCBDb250ZXh0ID0gKHByb3BzOiB7IGtleTogc3RyaW5nOyB2YWx1ZTogYW55IH0pID0+IG51bGw7XG4iLCIvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MTAwMzc2L2hvdy10by13YXRjaC1mb3ItYXJyYXktY2hhbmdlc1xuZXhwb3J0IGZ1bmN0aW9uIEV2ZW50ZWRBcnJheShpdGVtcykge1xuICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgIF9hcnJheSA9IFtdLFxuICAgIF9oYW5kbGVycyA9IHtcbiAgICAgIGl0ZW1hZGRlZDogW10sXG4gICAgICBpdGVtcmVtb3ZlZDogW10sXG4gICAgICBpdGVtc2V0OiBbXVxuICAgIH07XG5cbiAgZnVuY3Rpb24gZGVmaW5lSW5kZXhQcm9wZXJ0eShpbmRleCkge1xuICAgIGlmICghKGluZGV4IGluIF9zZWxmKSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9zZWxmLCBpbmRleCwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF9hcnJheVtpbmRleF07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odikge1xuICAgICAgICAgIF9hcnJheVtpbmRleF0gPSB2O1xuICAgICAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogXCJpdGVtc2V0XCIsXG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBpdGVtOiB2XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJhaXNlRXZlbnQoZXZlbnQpIHtcbiAgICBfaGFuZGxlcnNbZXZlbnQudHlwZV0uZm9yRWFjaChmdW5jdGlvbihoKSB7XG4gICAgICBoLmNhbGwoX3NlbGYsIGV2ZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZWxmLm9uID0gZnVuY3Rpb24oZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgX2hhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChoYW5kbGVyKTtcbiAgfTtcblxuICBfc2VsZi5vZmYgPSBmdW5jdGlvbihldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICB2YXIgaCA9IF9oYW5kbGVyc1tldmVudE5hbWVdO1xuICAgIHZhciBsbiA9IGgubGVuZ3RoO1xuICAgIHdoaWxlICgtLWxuID49IDApIHtcbiAgICAgIGlmIChoW2xuXSA9PT0gaGFuZGxlcikge1xuICAgICAgICBoLnNwbGljZShsbiwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9zZWxmLnB1c2ggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5kZXg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgIGluZGV4ID0gX2FycmF5Lmxlbmd0aDtcbiAgICAgIF9hcnJheS5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgICBkZWZpbmVJbmRleFByb3BlcnR5KGluZGV4KTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1hZGRlZFwiLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGl0ZW06IGFyZ3VtZW50c1tpXVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBfYXJyYXkubGVuZ3RoO1xuICB9O1xuXG4gIF9zZWxmLnBvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChfYXJyYXkubGVuZ3RoID4gLTEpIHtcbiAgICAgIHZhciBpbmRleCA9IF9hcnJheS5sZW5ndGggLSAxLFxuICAgICAgICBpdGVtID0gX2FycmF5LnBvcCgpO1xuICAgICAgZGVsZXRlIF9zZWxmW2luZGV4XTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1yZW1vdmVkXCIsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgaXRlbTogaXRlbVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gIH07XG5cbiAgX3NlbGYudW5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XG4gICAgICBfYXJyYXkuc3BsaWNlKGksIDAsIGFyZ3VtZW50c1tpXSk7XG4gICAgICBkZWZpbmVJbmRleFByb3BlcnR5KF9hcnJheS5sZW5ndGggLSAxKTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1hZGRlZFwiLFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgaXRlbTogYXJndW1lbnRzW2ldXG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yICg7IGkgPCBfYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1zZXRcIixcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIGl0ZW06IF9hcnJheVtpXVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBfYXJyYXkubGVuZ3RoO1xuICB9O1xuXG4gIF9zZWxmLnNoaWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKF9hcnJheS5sZW5ndGggPiAtMSkge1xuICAgICAgdmFyIGl0ZW0gPSBfYXJyYXkuc2hpZnQoKTtcbiAgICAgIGRlbGV0ZSBfc2VsZltfYXJyYXkubGVuZ3RoXTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1yZW1vdmVkXCIsXG4gICAgICAgIGluZGV4OiAwLFxuICAgICAgICBpdGVtOiBpdGVtXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfTtcblxuICBfc2VsZi5zcGxpY2UgPSBmdW5jdGlvbihpbmRleCwgaG93TWFueSAvKiwgZWxlbWVudDEsIGVsZW1lbnQyLCAuLi4gKi8pIHtcbiAgICB2YXIgcmVtb3ZlZCA9IFtdLFxuICAgICAgaXRlbSxcbiAgICAgIHBvcztcblxuICAgIGluZGV4ID0gaW5kZXggPT0gbnVsbCA/IDAgOiBpbmRleCA8IDAgPyBfYXJyYXkubGVuZ3RoICsgaW5kZXggOiBpbmRleDtcblxuICAgIGhvd01hbnkgPVxuICAgICAgaG93TWFueSA9PSBudWxsID8gX2FycmF5Lmxlbmd0aCAtIGluZGV4IDogaG93TWFueSA+IDAgPyBob3dNYW55IDogMDtcblxuICAgIHdoaWxlIChob3dNYW55LS0pIHtcbiAgICAgIGl0ZW0gPSBfYXJyYXkuc3BsaWNlKGluZGV4LCAxKVswXTtcbiAgICAgIHJlbW92ZWQucHVzaChpdGVtKTtcbiAgICAgIGRlbGV0ZSBfc2VsZltfYXJyYXkubGVuZ3RoXTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1yZW1vdmVkXCIsXG4gICAgICAgIGluZGV4OiBpbmRleCArIHJlbW92ZWQubGVuZ3RoIC0gMSxcbiAgICAgICAgaXRlbTogaXRlbVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDIsIGxuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcbiAgICAgIF9hcnJheS5zcGxpY2UoaW5kZXgsIDAsIGFyZ3VtZW50c1tpXSk7XG4gICAgICBkZWZpbmVJbmRleFByb3BlcnR5KF9hcnJheS5sZW5ndGggLSAxKTtcbiAgICAgIHJhaXNlRXZlbnQoe1xuICAgICAgICB0eXBlOiBcIml0ZW1hZGRlZFwiLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGl0ZW06IGFyZ3VtZW50c1tpXVxuICAgICAgfSk7XG4gICAgICBpbmRleCsrO1xuICAgIH1cblxuICAgIHJldHVybiByZW1vdmVkO1xuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfc2VsZiwgXCJsZW5ndGhcIiwge1xuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfYXJyYXkubGVuZ3RoO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG4gPSBOdW1iZXIodmFsdWUpO1xuICAgICAgdmFyIGxlbmd0aCA9IF9hcnJheS5sZW5ndGg7XG4gICAgICBpZiAobiAlIDEgPT09IDAgJiYgbiA+PSAwKSB7XG4gICAgICAgIGlmIChuIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgX3NlbGYuc3BsaWNlKG4pO1xuICAgICAgICB9IGVsc2UgaWYgKG4gPiBsZW5ndGgpIHtcbiAgICAgICAgICBfc2VsZi5wdXNoLmFwcGx5KF9zZWxmLCBuZXcgQXJyYXkobiAtIGxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgYXJyYXkgbGVuZ3RoXCIpO1xuICAgICAgfVxuICAgICAgX2FycmF5Lmxlbmd0aCA9IG47XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3NlbGYsIFwiaW5uZXJBcnJheVwiLCB7XG4gICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF9hcnJheTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odikge1xuICAgICAgLy8gX3NlbGYucHVzaC5hcHBseShfc2VsZiwgdik7IC8vIHJlbmRlckFsbFxuICAgICAgX2FycmF5ID0gdjtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKEFycmF5LnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgaWYgKCEobmFtZSBpbiBfc2VsZikpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfc2VsZiwgbmFtZSwge1xuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogQXJyYXkucHJvdG90eXBlW25hbWVdXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIF9zZWxmLnRvSlNPTiA9ICgpID0+IHtcbiAgICByZXR1cm4gX2FycmF5O1xuICB9O1xuXG4gIGlmIChpdGVtcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgX3NlbGYucHVzaC5hcHBseShfc2VsZiwgaXRlbXMpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBFdmVudGVkQXJyYXkgfSBmcm9tIFwiLi9ldmVudGVkLWFycmF5XCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZKc3hWYWx1ZTxUPiB7XHJcbiAgKHZhbDogVCk6IHZvaWQ7XHJcbiAgcmVhZG9ubHkgJHZhbDogVDtcclxuICBmcmVlemVkOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBGanN4QXJyYXlFdmVudFR5cGUgPSBcIml0ZW1hZGRlZFwiIHwgXCJpdGVtc2V0XCIgfCBcIml0ZW1yZW1vdmVkXCI7XHJcblxyXG5leHBvcnQgY29uc3QgdmFsdWUgPSA8VD4odmFsdWU6IFQsIGZyZWV6ZWQ/OiBib29sZWFuKTogRkpzeFZhbHVlPFQ+ID0+IHtcclxuICBpZiAodmFsdWUgJiYgdmFsdWVbXCIkdmFsXCJdICE9IHVuZGVmaW5lZClcclxuICAgIHRocm93IFwiaGlnaGVyIG9yZGVyZWQgc2lnbmFscyBpcyBub3Qgc3VwcG9ydGVkXCI7XHJcbiAgY29uc3QgaW5uZXJGbjogYW55ID0gKHZhbD8pID0+IHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcclxuICAgICAgLy8gVE9ETyBodHRwczovL2dpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi9tYWppbmJ1dVxyXG4gICAgICBpbm5lckZuW1wiJHZhbFwiXS5pbm5lckFycmF5ID0gdmFsO1xyXG4gICAgfSBlbHNlIGlubmVyRm5bXCIkdmFsXCJdID0gdmFsO1xyXG4gICAgY29uc3QgY29tcHV0ZXMgPSBpbm5lckZuW1wiY29tcHV0ZXNcIl07XHJcbiAgICBpZiAoY29tcHV0ZXMubGVuZ3RoKVxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXB1dGVzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICFjb21wdXRlc1tpXVtcImZyZWV6ZWRcIl0gJiYgY29tcHV0ZXNbaV0oY29tcHV0ZXNbaV0uY29tcHV0ZSgpKTtcclxuICB9O1xyXG4gIGlubmVyRm5bXCIkdmFsXCJdID0gdmFsdWU7XHJcbiAgaW5uZXJGbltcImZyZWV6ZWRcIl0gPSBmcmVlemVkO1xyXG5cclxuICBpbm5lckZuW1wiY29tcHV0ZXNcIl0gPSBbXTtcclxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbikgaW5uZXJGbltcImNvbXB1dGVcIl0gPSB2YWx1ZTtcclxuICBpbm5lckZuLnRvU3RyaW5nID0gaW5uZXJGbi50b0pTT04gPSAoKSA9PiBpbm5lckZuW1wiJHZhbFwiXTtcclxuICByZXR1cm4gaW5uZXJGbjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhcnJheSA9IDxUPihcclxuICBpdGVtczogVFtdXHJcbik6IHtcclxuICBvbj86IChcclxuICAgIHR5cGU6IEZqc3hBcnJheUV2ZW50VHlwZSxcclxuICAgIGNhbGxiYWNrOiAoZTogeyBpdGVtOiBUOyBpbmRleDogbnVtYmVyIH0pID0+IHZvaWRcclxuICApID0+IHZvaWQ7XHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcj86ICh0eXBlOiBGanN4QXJyYXlFdmVudFR5cGUpID0+IHZvaWQ7XHJcbiAgJHZhbDogVFtdO1xyXG59ID0+IHtcclxuICBjb25zdCBhcnIgPSB2YWx1ZShuZXcgRXZlbnRlZEFycmF5KGl0ZW1zKSkgYXMgYW55O1xyXG4gIGFyci5vbiA9IGFyci4kdmFsLm9uO1xyXG4gIGFyci5vZmYgPSBhcnIuJHZhbC5vZmY7XHJcbiAgYXJyLnRvSlNPTiA9ICgpID0+IGFyci4kdmFsLmlubmVyQXJyYXk7XHJcblxyXG4gIHJldHVybiBhcnI7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgb24gPSAoXHJcbiAgYXJyOiBhbnlbXSxcclxuICB0eXBlOiBGanN4QXJyYXlFdmVudFR5cGUsXHJcbiAgY2FsbGJhY2s6IChlOiB7IGl0ZW06IGFueTsgaW5kZXg6IG51bWJlciB9KSA9PiB2b2lkXHJcbikgPT4ge1xyXG4gIGFycltcIiR2YWxcIl0ub24odHlwZSwgY2FsbGJhY2spO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9mZiA9IChcclxuICBhcnI6IGFueVtdLFxyXG4gIHR5cGU6IEZqc3hBcnJheUV2ZW50VHlwZSxcclxuICBjYWxsYmFjazogKGU6IHsgaXRlbTogYW55OyBpbmRleDogbnVtYmVyIH0pID0+IHZvaWRcclxuKSA9PiB7XHJcbiAgYXJyW1wiJHZhbFwiXS5vZmYodHlwZSwgY2FsbGJhY2spO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbXB1dGUgPSAoZm46ICgpID0+IHZvaWQsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgdmFyIGNvbXB1dGUgPSB2YWx1ZShmbik7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSBhcmdzW2ldW1wiY29tcHV0ZXNcIl0ucHVzaChjb21wdXRlKTtcclxuICBmbigpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRDb21wdXRlID0gKGZuOiAoKSA9PiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgdmFyIGNWYWx1ZSA9IHZhbHVlKGZuKCkpO1xyXG4gIHZhciBjbXBJbm5lciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY1ZhbHVlKGZuKCkpO1xyXG4gIH07XHJcbiAgY21wSW5uZXJbXCJjb21wdXRlXCJdID0gY1ZhbHVlO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykgYXJnc1tpXVtcImNvbXB1dGVzXCJdLnB1c2goY21wSW5uZXIpO1xyXG5cclxuICByZXR1cm4gY1ZhbHVlO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldENvbXB1dGUgPSAocHJldjogYW55LCBmbjogKCkgPT4gdm9pZCwgLi4uYXJnczogYW55W10pID0+IHtcclxuICBkZXN0cm95KHByZXYpO1xyXG4gIHJldHVybiBpbml0Q29tcHV0ZShmbiwgLi4uYXJncyk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGVzdHJveSA9IChpdGVtOiBhbnkpID0+IHtcclxuICBkZWxldGUgaXRlbVtcImNvbXB1dGVcIl07XHJcbiAgZGVsZXRlIGl0ZW1bXCJjb21wdXRlc1wiXTtcclxufTtcclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIkpTWC5kLnRzXCIgLz5cblxuZXhwb3J0ICogZnJvbSBcIi4vbGliL2ZcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xpYi9kb21cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xpYi9kb20tdHJlZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbGliL2NvbnRleHRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2xpYi9vYnNlcnZhYmxlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9saWIvdXRpbFwiO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRTeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcbiIsImltcG9ydCB7IHZhbHVlIH0gZnJvbSBcIi4vZlwiO1xuXG5leHBvcnQgY29uc3Qgc2V0RGVmYXVsdHMgPSA8VD4oXG4gIG9iajogVCxcbiAgZGVmYXVsdHM6IHsgW2tleSBpbiBrZXlvZiBUXT86IGFueSB9XG4pID0+IHtcbiAgZm9yICh2YXIga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKG9ialtrZXldID09PSB1bmRlZmluZWQpIG9ialtrZXldID0gZGVmYXVsdHNba2V5XTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3JpZ2luYWxNb2R1bGUpIHtcclxuXHRpZiAoIW9yaWdpbmFsTW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0dmFyIG1vZHVsZSA9IE9iamVjdC5jcmVhdGUob3JpZ2luYWxNb2R1bGUpO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImV4cG9ydHNcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlXHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG4iLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cbmltcG9ydCBwb255ZmlsbCBmcm9tICcuL3BvbnlmaWxsLmpzJztcblxudmFyIHJvb3Q7XG5cbmlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBtb2R1bGU7XG59IGVsc2Uge1xuICByb290ID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbn1cblxudmFyIHJlc3VsdCA9IHBvbnlmaWxsKHJvb3QpO1xuZXhwb3J0IGRlZmF1bHQgcmVzdWx0O1xuIiwiaW1wb3J0IHsgRkpzeFZhbHVlLCB2YWx1ZSB9IGZyb20gXCIuLlwiO1xuaW1wb3J0ICQkc3ltYm9sT2JzZXJ2YWJsZSBmcm9tIFwic3ltYm9sLW9ic2VydmFibGVcIjtcblxuLy8gaHR0cHM6Ly9tZWRpdW0uY29tL0Bma251c3NlbC9hLXNpbXBsZS1vYnNlcnZhYmxlLWltcGxlbWVudGF0aW9uLWM5YzgwOWM4OWM2OVxuXG5jbGFzcyBPYnNlcnZlciB7XG4gIGlzVW5zdWJzY3JpYmVkID0gZmFsc2U7XG4gIGhhbmRsZXJzOiBQYXJ0aWFsPE9ic2VydmVyPiA9IG51bGw7XG4gIF91bnN1YnNjcmliZSA9IG51bGw7XG4gIGNvbnN0cnVjdG9yKGhhbmRsZXJzOiBQYXJ0aWFsPE9ic2VydmVyPikge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBoYW5kbGVyczsgLy8gbmV4dCwgZXJyb3IgYW5kIGNvbXBsZXRlIGxvZ2ljXG4gICAgdGhpcy5pc1Vuc3Vic2NyaWJlZCA9IGZhbHNlO1xuICB9XG5cbiAgbmV4dCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzLm5leHQgJiYgIXRoaXMuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMubmV4dCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgZXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoIXRoaXMuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgIGlmICh0aGlzLmhhbmRsZXJzLmVycm9yKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUoKSB7XG4gICAgaWYgKCF0aGlzLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICBpZiAodGhpcy5oYW5kbGVycy5jb21wbGV0ZSkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmNvbXBsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICB0aGlzLmlzVW5zdWJzY3JpYmVkID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLl91bnN1YnNjcmliZSkge1xuICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgT2JzZXJ2YWJsZSB7XG4gIF9zdWJzY3JpYmU6IChvYnNlcnZlcjogT2JzZXJ2ZXIpID0+ICgpID0+IHZvaWQgPSBudWxsO1xuICBjb25zdHJ1Y3RvcihzdWJzY3JpYmUpIHtcbiAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gIH1cblxuICBzdWJzY3JpYmUob2JzOiBQYXJ0aWFsPE9ic2VydmVyPikge1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyKG9icyk7XG5cbiAgICBvYnNlcnZlci5fdW5zdWJzY3JpYmUgPSB0aGlzLl9zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBvYnNlcnZlci51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBbJCRzeW1ib2xPYnNlcnZhYmxlXSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdG9PYnNlcnZhYmxlID0gPFQ+KGRhdGE6IEZKc3hWYWx1ZTxhbnk+KTogVCA9PiB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgdmFyIGNvbXB1dGUgPSB2YWx1ZSgoKSA9PiB7XG4gICAgICBvYnNlcnZlci5uZXh0KGRhdGEuJHZhbCk7XG4gICAgfSk7XG4gICAgZGF0YVtcImNvbXB1dGVzXCJdLnB1c2goY29tcHV0ZSk7XG4gIH0pIGFzIGFueTtcbn07XG4iLCJpbXBvcnQgeyBpbmplY3RDb250ZXh0cyB9IGZyb20gXCIuL2NvbnRleHRcIjtcclxuXHJcbnZhciBqc3hFdmVudFByb3BlcnR5ID0gL15vbltBLVpdLztcclxuY29uc3Qgc3ZnTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XHJcbmV4cG9ydCBjb25zdCBGcmFnbWVudCA9IFN5bWJvbChcImZqc3guRnJhZ21lbnRcIik7XHJcblxyXG5jb25zdCBzZXRFbGVtZW50QXR0cmlidXRlcyA9IChcclxuICBlbGVtZW50OiBFbGVtZW50LFxyXG4gIGF0dHJpYnV0ZXMsXHJcbiAgZm9yY2VTZXRBdHRyOiBib29sZWFuXHJcbikgPT4ge1xyXG4gIGxldCBhdHRyaWJ1dGUgPSBudWxsO1xyXG4gIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xyXG4gICAgYXR0cmlidXRlID0gYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcclxuICAgIGlmIChhdHRyaWJ1dGUgIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGlmIChhdHRyaWJ1dGUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgIGlmIChqc3hFdmVudFByb3BlcnR5LnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcclxuICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVOYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICBlbGVtZW50W2F0dHJpYnV0ZU5hbWVdID0gYXR0cmlidXRlO1xyXG4gICAgICAgIH0gZWxzZSBhdHRyaWJ1dGUoZWxlbWVudCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlIGluc3RhbmNlb2YgT2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXR0cmlidXRlKSkge1xyXG4gICAgICAgICAgYWRkQ2hpbGRFbGVtZW50cyhlbGVtZW50LCBhdHRyaWJ1dGUpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZSlcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVba2V5XSA9PT0gXCJmdW5jdGlvblwiKSBhdHRyaWJ1dGVba2V5XShlbGVtZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoZm9yY2VTZXRBdHRyIHx8IGF0dHJpYnV0ZU5hbWUuaW5kZXhPZihcIi1cIikgIT09IC0xKVxyXG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlKTtcclxuICAgICAgICBlbHNlIGVsZW1lbnRbYXR0cmlidXRlTmFtZV0gPSBhdHRyaWJ1dGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlRWxlbWVudCA9IChcclxuICB0YWdOYW1lOiBzdHJpbmcgfCBGdW5jdGlvbiB8IFN5bWJvbCxcclxuICBhdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9LFxyXG4gIC4uLmNoaWxkczogYW55W11cclxuKSA9PiB7XHJcbiAgbGV0IGVsZW1lbnQgPSBudWxsO1xyXG4gIGlmICh0YWdOYW1lIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcclxuICAgIGlmIChhdHRyaWJ1dGVzID09PSBudWxsKSBhdHRyaWJ1dGVzID0ge307XHJcbiAgICBhdHRyaWJ1dGVzW1wiY2hpbGRyZW5cIl0gPSBjaGlsZHM7XHJcbiAgICBpbmplY3RDb250ZXh0cyhhdHRyaWJ1dGVzKTtcclxuICAgIGVsZW1lbnQgPSAodGFnTmFtZSBhcyBhbnkpKGF0dHJpYnV0ZXMpO1xyXG4gICAgaWYgKGVsZW1lbnQpIGVsZW1lbnRbXCIkcHJvcHNcIl0gPSBhdHRyaWJ1dGVzO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAodGFnTmFtZSA9PT0gRnJhZ21lbnQpIHtcclxuICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUgYXMgYW55KTtcclxuICAgICAgYXR0cmlidXRlcyAmJiBzZXRFbGVtZW50QXR0cmlidXRlcyhlbGVtZW50LCBhdHRyaWJ1dGVzLCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBlbGVtZW50W1wiJHByb3BzXCJdID0gYXR0cmlidXRlcztcclxuICAgIGNoaWxkcyAmJiBjaGlsZHMubGVuZ3RoICYmIGFkZENoaWxkRWxlbWVudHMoZWxlbWVudCwgY2hpbGRzKTtcclxuICB9XHJcbiAgcmV0dXJuIGVsZW1lbnQ7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlU3ZnRWxlbWVudCA9IChcclxuICB0YWdOYW1lOiBzdHJpbmcsXHJcbiAgYXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSxcclxuICAuLi5jaGlsZHM6IGFueVtdXHJcbikgPT4ge1xyXG4gIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCB0YWdOYW1lKTtcclxuICBpZiAoYXR0cmlidXRlcykge1xyXG4gICAgaWYgKGF0dHJpYnV0ZXMuY2xhc3NOYW1lKSB7XHJcbiAgICAgIC8vIFRPRE8gY29tcGlsZSB0aW1lXHJcbiAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBhdHRyaWJ1dGVzLmNsYXNzTmFtZTtcclxuICAgICAgZGVsZXRlIGF0dHJpYnV0ZXMuY2xhc3NOYW1lO1xyXG4gICAgfVxyXG4gICAgc2V0RWxlbWVudEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcywgdHJ1ZSk7XHJcbiAgfVxyXG4gIGNoaWxkcyAmJiBjaGlsZHMubGVuZ3RoICYmIGFkZENoaWxkRWxlbWVudHMoZWxlbWVudCwgY2hpbGRzKTtcclxuICByZXR1cm4gZWxlbWVudDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRDaGlsZEVsZW1lbnRzID0gKGVsZW1lbnQsIGNoaWxkcykgPT4ge1xyXG4gIGxldCBwcm9wcyA9IG51bGw7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkc1tpXSkpIGFkZENoaWxkRWxlbWVudHMoZWxlbWVudCwgY2hpbGRzW2ldKTtcclxuICAgIGVsc2UgaWYgKGNoaWxkc1tpXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSBjaGlsZHNbaV0oZWxlbWVudCk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgaWYgKGNoaWxkc1tpXSkge1xyXG4gICAgICAgIHByb3BzID0gY2hpbGRzW2ldW1wiJHByb3BzXCJdO1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoXHJcbiAgICAgICAgICBjaGlsZHNbaV0gaW5zdGFuY2VvZiBOb2RlXHJcbiAgICAgICAgICAgID8gY2hpbGRzW2ldXHJcbiAgICAgICAgICAgIDogZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hpbGRzW2ldKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcHJvcHMgJiYgcHJvcHMuZGlkTW91bnQgJiYgcHJvcHMuZGlkTW91bnQoZWxlbWVudCwgY2hpbGRzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVUZXh0Tm9kZSA9IHBhcmVudCA9PiB7XHJcbiAgcmV0dXJuIHBhcmVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2xvbmVFbGVtZW50ID0gKGVsZW1lbnQ6IEVsZW1lbnQsIGF0dHJpYnV0ZXM6IGFueSkgPT4ge1xyXG4gIGVsZW1lbnQgPSBlbGVtZW50LmNsb25lTm9kZSh0cnVlKSBhcyBFbGVtZW50O1xyXG4gIGF0dHJpYnV0ZXMgJiYgc2V0RWxlbWVudEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcywgZmFsc2UpO1xyXG4gIHJldHVybiBlbGVtZW50O1xyXG59O1xyXG4iLCJpbXBvcnQgeyBGSnN4VmFsdWUgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IEV2ZW50ZWRBcnJheSB9IGZyb20gXCIuL2V2ZW50ZWQtYXJyYXlcIjtcbmltcG9ydCB7IGNvbXB1dGUgfSBmcm9tIFwiLi9mXCI7XG5pbXBvcnQgeyBhY3RpdmF0ZUNvbnRleHQsIGRlYWN0aXZhdGVDb250ZXh0IH0gZnJvbSBcIi4uL2xpYi9jb250ZXh0XCI7XG5cbmV4cG9ydCBjb25zdCBjb25kaXRpb25hbEVsZW1lbnQgPSAoXG4gIHBhcmVudEVsZW1lbnQsXG4gIG9sZEVsZW1lbnQsXG4gIG5ld0VsZW1lbnRGbjogKCkgPT4gYW55XG4pID0+IHtcbiAgYWN0aXZhdGVDb250ZXh0KHBhcmVudEVsZW1lbnRbXCIkcHJvcHNcIl1bXCIkY29udGV4dFwiXSk7XG4gIGxldCBuZXdFbGVtZW50ID0gbmV3RWxlbWVudEZuKCk7XG4gIGRlYWN0aXZhdGVDb250ZXh0KHBhcmVudEVsZW1lbnRbXCIkcHJvcHNcIl1bXCIkY29udGV4dFwiXSk7XG4gIC8vIGZvciAodmFyIGtleSBpbiBwcm9wc1tcIiRjb250ZXh0XCJdKSBmanN4LmVuZENvbnRleHQoa2V5KTtcbiAgaWYgKG5ld0VsZW1lbnQgaW5zdGFuY2VvZiBOb2RlID09PSBmYWxzZSlcbiAgICBuZXdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3RWxlbWVudCB8fCBcIlwiKTtcbiAgaWYgKG9sZEVsZW1lbnQpIHBhcmVudEVsZW1lbnQucmVwbGFjZUNoaWxkKG5ld0VsZW1lbnQsIG9sZEVsZW1lbnQpO1xuICBlbHNlIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobmV3RWxlbWVudCk7XG4gIHJldHVybiBuZXdFbGVtZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IGluc2VydFRvRG9tID0gKHBhcmVudEVsZW1lbnQsIGluZGV4LCBpdGVtRWxlbWVudCkgPT4ge1xuICBpZiAoaXRlbUVsZW1lbnQgaW5zdGFuY2VvZiBGdW5jdGlvbikgaXRlbUVsZW1lbnQocGFyZW50RWxlbWVudCk7XG4gIGVsc2Uge1xuICAgIGlmIChpdGVtRWxlbWVudCBpbnN0YW5jZW9mIE5vZGUgPT09IGZhbHNlKVxuICAgICAgaXRlbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpdGVtRWxlbWVudCk7XG4gICAgcGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoaXRlbUVsZW1lbnQsIHBhcmVudEVsZW1lbnQuY2hpbGROb2Rlc1tpbmRleF0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYXJyYXlNYXAgPSAoXG4gIGFycjogRkpzeFZhbHVlPGFueVtdPixcbiAgcGFyZW50RG9tOiBIVE1MRWxlbWVudCxcbiAgcmVuZGVyUmV0dXJuOiAoaXRlbTogYW55LCBpZHg/OiBudW1iZXIsIGlzSW5zZXJ0PzogYm9vbGVhbikgPT4gdm9pZFxuKSA9PiB7XG4gIGNvbnN0IG9BcnIgPVxuICAgIGFyci4kdmFsIGluc3RhbmNlb2YgRXZlbnRlZEFycmF5ID8gYXJyLiR2YWwgOiBuZXcgRXZlbnRlZEFycmF5KGFyci4kdmFsKTtcblxuICBvQXJyLm9uKFwiaXRlbWFkZGVkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBpbnNlcnRUb0RvbShwYXJlbnREb20sIGUuaW5kZXgsIHJlbmRlclJldHVybihlLml0ZW0sIGUuaW5kZXgpKTtcbiAgfSk7XG5cbiAgb0Fyci5vbihcIml0ZW1zZXRcIiwgZnVuY3Rpb24oZSkge1xuICAgIHBhcmVudERvbS5yZXBsYWNlQ2hpbGQoXG4gICAgICByZW5kZXJSZXR1cm4oZS5pdGVtLCBlLmluZGV4KSBhcyBhbnksXG4gICAgICBwYXJlbnREb20uY2hpbGROb2Rlcy5pdGVtKGUuaW5kZXgpXG4gICAgKTtcbiAgfSk7XG5cbiAgb0Fyci5vbihcIml0ZW1yZW1vdmVkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBwYXJlbnREb20ucmVtb3ZlQ2hpbGQocGFyZW50RG9tLmNoaWxkTm9kZXMuaXRlbShlLmluZGV4KSk7XG4gIH0pO1xuICBhcnIob0Fycik7XG5cbiAgY29uc3QgcmVuZGVyQWxsID0gKCkgPT4ge1xuICAgIGlmIChhcnIuJHZhbC5sZW5ndGggPT09IDApIHBhcmVudERvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZWxzZSB7XG4gICAgICBwYXJlbnREb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgZm9yICh2YXIgaSA9IHBhcmVudERvbS5jaGlsZEVsZW1lbnRDb3VudDsgaSA8IGFyci4kdmFsLmxlbmd0aDsgaSsrKVxuICAgICAgICBpbnNlcnRUb0RvbShwYXJlbnREb20sIGksIHJlbmRlclJldHVybihhcnIuJHZhbFtpXSwgaSkpO1xuICAgIH1cbiAgfTtcbiAgY29tcHV0ZShyZW5kZXJBbGwsIGFycik7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==